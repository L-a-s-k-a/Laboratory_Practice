ARM GAS  C:\Users\vvman\AppData\Local\Temp\ccrefLQe.s 			page 1


   1              		.cpu cortex-m4
   2              		.arch armv7e-m
   3              		.fpu fpv4-sp-d16
   4              		.eabi_attribute 27, 1
   5              		.eabi_attribute 28, 1
   6              		.eabi_attribute 20, 1
   7              		.eabi_attribute 21, 1
   8              		.eabi_attribute 23, 3
   9              		.eabi_attribute 24, 1
  10              		.eabi_attribute 25, 1
  11              		.eabi_attribute 26, 1
  12              		.eabi_attribute 30, 1
  13              		.eabi_attribute 34, 1
  14              		.eabi_attribute 18, 4
  15              		.file	"main.c"
  16              		.text
  17              	.Ltext0:
  18              		.cfi_sections	.debug_frame
  19              		.file 1 "Core/Src/main.c"
  20              		.section	.text.update_leds,"ax",%progbits
  21              		.align	1
  22              		.global	update_leds
  23              		.syntax unified
  24              		.thumb
  25              		.thumb_func
  27              	update_leds:
  28              	.LFB130:
   1:Core/Src/main.c **** #include "init.h"
   2:Core/Src/main.c **** #include "stdint.h"
   3:Core/Src/main.c **** #include <string.h>
   4:Core/Src/main.c **** 
   5:Core/Src/main.c **** int turn;
   6:Core/Src/main.c **** int count;
   7:Core/Src/main.c **** int flag_button_1;
   8:Core/Src/main.c **** int flag_button_2;
   9:Core/Src/main.c **** #define DEBOUNCE_DELAY 50
  10:Core/Src/main.c **** int last_button_press_time = 0;
  11:Core/Src/main.c **** int last_button_press_time_0 = 0;
  12:Core/Src/main.c **** int current_time;
  13:Core/Src/main.c **** int time_count;
  14:Core/Src/main.c **** #define LED_COUNT 6
  15:Core/Src/main.c **** uint8_t current_led_position = 0;
  16:Core/Src/main.c **** uint8_t all_leds_on = 1;
  17:Core/Src/main.c **** 
  18:Core/Src/main.c **** #define GPIO_LED_MASK_B (GPIO_BSRR_BR12 | GPIO_BSRR_BR13 | GPIO_BSRR_BR15) 
  19:Core/Src/main.c **** #define GPIO_LED_MASK_D (GPIO_BSRR_BR3 | GPIO_BSRR_BR4| GPIO_BSRR_BR5) 
  20:Core/Src/main.c **** 
  21:Core/Src/main.c **** void update_leds() {
  29              		.loc 1 21 20 view -0
  30              		.cfi_startproc
  31              		@ args = 0, pretend = 0, frame = 0
  32              		@ frame_needed = 0, uses_anonymous_args = 0
  33              		@ link register save eliminated.
  34 0000 10B4     		push	{r4}
  35              	.LCFI0:
  36              		.cfi_def_cfa_offset 4
  37              		.cfi_offset 4, -4
ARM GAS  C:\Users\vvman\AppData\Local\Temp\ccrefLQe.s 			page 2


  22:Core/Src/main.c ****     SET_BIT(GPIOB->BSRR, GPIO_LED_MASK_B);
  38              		.loc 1 22 5 view .LVU1
  39 0002 404A     		ldr	r2, .L19
  40 0004 9369     		ldr	r3, [r2, #24]
  41 0006 43F03043 		orr	r3, r3, #-1342177280
  42 000a 9361     		str	r3, [r2, #24]
  23:Core/Src/main.c ****     SET_BIT(GPIOD->BSRR, GPIO_LED_MASK_D);
  43              		.loc 1 23 5 view .LVU2
  44 000c 02F50062 		add	r2, r2, #2048
  45 0010 9369     		ldr	r3, [r2, #24]
  46 0012 43F46013 		orr	r3, r3, #3670016
  47 0016 9361     		str	r3, [r2, #24]
  24:Core/Src/main.c ****     if (count == 0) {
  48              		.loc 1 24 5 view .LVU3
  49              		.loc 1 24 15 is_stmt 0 view .LVU4
  50 0018 3B4B     		ldr	r3, .L19+4
  51 001a 1C68     		ldr	r4, [r3]
  52              		.loc 1 24 8 view .LVU5
  53 001c 74B9     		cbnz	r4, .L2
  25:Core/Src/main.c **** 		SET_BIT(GPIOB->BSRR, GPIO_BSRR_BR12 | GPIO_BSRR_BR13 | GPIO_BSRR_BR15);
  54              		.loc 1 25 3 is_stmt 1 view .LVU6
  55 001e A2F50062 		sub	r2, r2, #2048
  56 0022 9369     		ldr	r3, [r2, #24]
  57 0024 43F03043 		orr	r3, r3, #-1342177280
  58 0028 9361     		str	r3, [r2, #24]
  26:Core/Src/main.c ****         SET_BIT(GPIOD->BSRR, GPIO_BSRR_BR3 | GPIO_BSRR_BR4 | GPIO_BSRR_BR5);
  59              		.loc 1 26 9 view .LVU7
  60 002a 02F50062 		add	r2, r2, #2048
  61 002e 9369     		ldr	r3, [r2, #24]
  62 0030 43F46013 		orr	r3, r3, #3670016
  63 0034 9361     		str	r3, [r2, #24]
  64              	.L1:
  27:Core/Src/main.c ****     }
  28:Core/Src/main.c ****     else if (count == 6) {
  29:Core/Src/main.c ****         if (all_leds_on) {
  30:Core/Src/main.c **** 			SET_BIT(GPIOB->BSRR, GPIO_BSRR_BS12 | GPIO_BSRR_BS13 | GPIO_BSRR_BS15);
  31:Core/Src/main.c ****             SET_BIT(GPIOD->BSRR, GPIO_BSRR_BS3 | GPIO_BSRR_BS4| GPIO_BSRR_BS5 );
  32:Core/Src/main.c ****         } else {
  33:Core/Src/main.c ****             SET_BIT(GPIOB->BSRR, GPIO_LED_MASK_B);
  34:Core/Src/main.c ****             SET_BIT(GPIOD->BSRR, GPIO_LED_MASK_D);
  35:Core/Src/main.c ****         }
  36:Core/Src/main.c ****     }
  37:Core/Src/main.c ****     else {
  38:Core/Src/main.c ****         for (uint8_t i = 0; i < count; i++) {
  39:Core/Src/main.c ****             uint8_t led_index = (current_led_position + i) % LED_COUNT;
  40:Core/Src/main.c ****             switch (led_index) {
  41:Core/Src/main.c ****                 case 0: SET_BIT(GPIOD->BSRR, GPIO_BSRR_BS3); break;
  42:Core/Src/main.c ****                 case 1: SET_BIT(GPIOD->BSRR, GPIO_BSRR_BS4); break;
  43:Core/Src/main.c ****                 case 2: SET_BIT(GPIOD->BSRR, GPIO_BSRR_BS5); break;
  44:Core/Src/main.c ****                 case 3: SET_BIT(GPIOB->BSRR, GPIO_BSRR_BS12); break;
  45:Core/Src/main.c ****                 case 4: SET_BIT(GPIOB->BSRR, GPIO_BSRR_BS13); break;
  46:Core/Src/main.c ****                 case 5: SET_BIT(GPIOB->BSRR, GPIO_BSRR_BS15); break;
  47:Core/Src/main.c ****             }
  48:Core/Src/main.c ****         }
  49:Core/Src/main.c ****     }
  50:Core/Src/main.c **** }
  65              		.loc 1 50 1 is_stmt 0 view .LVU8
ARM GAS  C:\Users\vvman\AppData\Local\Temp\ccrefLQe.s 			page 3


  66 0036 5DF8044B 		ldr	r4, [sp], #4
  67              	.LCFI1:
  68              		.cfi_remember_state
  69              		.cfi_restore 4
  70              		.cfi_def_cfa_offset 0
  71 003a 7047     		bx	lr
  72              	.L2:
  73              	.LCFI2:
  74              		.cfi_restore_state
  28:Core/Src/main.c ****         if (all_leds_on) {
  75              		.loc 1 28 10 is_stmt 1 view .LVU9
  28:Core/Src/main.c ****         if (all_leds_on) {
  76              		.loc 1 28 13 is_stmt 0 view .LVU10
  77 003c 062C     		cmp	r4, #6
  78 003e 01D0     		beq	.L18
  79              	.LBB2:
  38:Core/Src/main.c ****             uint8_t led_index = (current_led_position + i) % LED_COUNT;
  80              		.loc 1 38 22 view .LVU11
  81 0040 0022     		movs	r2, #0
  82 0042 21E0     		b	.L4
  83              	.L18:
  84              	.LBE2:
  29:Core/Src/main.c **** 			SET_BIT(GPIOB->BSRR, GPIO_BSRR_BS12 | GPIO_BSRR_BS13 | GPIO_BSRR_BS15);
  85              		.loc 1 29 9 is_stmt 1 view .LVU12
  29:Core/Src/main.c **** 			SET_BIT(GPIOB->BSRR, GPIO_BSRR_BS12 | GPIO_BSRR_BS13 | GPIO_BSRR_BS15);
  86              		.loc 1 29 13 is_stmt 0 view .LVU13
  87 0044 314B     		ldr	r3, .L19+8
  88 0046 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
  29:Core/Src/main.c **** 			SET_BIT(GPIOB->BSRR, GPIO_BSRR_BS12 | GPIO_BSRR_BS13 | GPIO_BSRR_BS15);
  89              		.loc 1 29 12 view .LVU14
  90 0048 5BB1     		cbz	r3, .L5
  30:Core/Src/main.c ****             SET_BIT(GPIOD->BSRR, GPIO_BSRR_BS3 | GPIO_BSRR_BS4| GPIO_BSRR_BS5 );
  91              		.loc 1 30 4 is_stmt 1 view .LVU15
  92 004a 2E4A     		ldr	r2, .L19
  93 004c 9369     		ldr	r3, [r2, #24]
  94 004e 43F43043 		orr	r3, r3, #45056
  95 0052 9361     		str	r3, [r2, #24]
  31:Core/Src/main.c ****         } else {
  96              		.loc 1 31 13 view .LVU16
  97 0054 02F50062 		add	r2, r2, #2048
  98 0058 9369     		ldr	r3, [r2, #24]
  99 005a 43F03803 		orr	r3, r3, #56
 100 005e 9361     		str	r3, [r2, #24]
 101 0060 E9E7     		b	.L1
 102              	.L5:
  33:Core/Src/main.c ****             SET_BIT(GPIOD->BSRR, GPIO_LED_MASK_D);
 103              		.loc 1 33 13 view .LVU17
 104 0062 284A     		ldr	r2, .L19
 105 0064 9369     		ldr	r3, [r2, #24]
 106 0066 43F03043 		orr	r3, r3, #-1342177280
 107 006a 9361     		str	r3, [r2, #24]
  34:Core/Src/main.c ****         }
 108              		.loc 1 34 13 view .LVU18
 109 006c 02F50062 		add	r2, r2, #2048
 110 0070 9369     		ldr	r3, [r2, #24]
 111 0072 43F46013 		orr	r3, r3, #3670016
 112 0076 9361     		str	r3, [r2, #24]
ARM GAS  C:\Users\vvman\AppData\Local\Temp\ccrefLQe.s 			page 4


 113 0078 DDE7     		b	.L1
 114              	.LVL0:
 115              	.L13:
 116              	.LBB5:
 117              	.LBB3:
  41:Core/Src/main.c ****                 case 1: SET_BIT(GPIOD->BSRR, GPIO_BSRR_BS4); break;
 118              		.loc 1 41 25 view .LVU19
 119 007a 2549     		ldr	r1, .L19+12
 120 007c 8B69     		ldr	r3, [r1, #24]
 121              	.LVL1:
  41:Core/Src/main.c ****                 case 1: SET_BIT(GPIOD->BSRR, GPIO_BSRR_BS4); break;
 122              		.loc 1 41 25 is_stmt 0 view .LVU20
 123 007e 43F00803 		orr	r3, r3, #8
 124 0082 8B61     		str	r3, [r1, #24]
 125              	.LVL2:
  41:Core/Src/main.c ****                 case 1: SET_BIT(GPIOD->BSRR, GPIO_BSRR_BS4); break;
 126              		.loc 1 41 62 is_stmt 1 view .LVU21
 127              	.L6:
 128              	.LBE3:
  38:Core/Src/main.c ****             uint8_t led_index = (current_led_position + i) % LED_COUNT;
 129              		.loc 1 38 41 discriminator 2 view .LVU22
 130 0084 0132     		adds	r2, r2, #1
 131              	.LVL3:
  38:Core/Src/main.c ****             uint8_t led_index = (current_led_position + i) % LED_COUNT;
 132              		.loc 1 38 41 is_stmt 0 discriminator 2 view .LVU23
 133 0086 D2B2     		uxtb	r2, r2
 134              	.LVL4:
 135              	.L4:
  38:Core/Src/main.c ****             uint8_t led_index = (current_led_position + i) % LED_COUNT;
 136              		.loc 1 38 31 is_stmt 1 discriminator 1 view .LVU24
 137 0088 9442     		cmp	r4, r2
 138 008a D4DD     		ble	.L1
 139              	.LBB4:
  39:Core/Src/main.c ****             switch (led_index) {
 140              		.loc 1 39 13 view .LVU25
  39:Core/Src/main.c ****             switch (led_index) {
 141              		.loc 1 39 55 is_stmt 0 view .LVU26
 142 008c 214B     		ldr	r3, .L19+16
 143 008e 1978     		ldrb	r1, [r3]	@ zero_extendqisi2
 144 0090 1144     		add	r1, r1, r2
  39:Core/Src/main.c ****             switch (led_index) {
 145              		.loc 1 39 60 view .LVU27
 146 0092 214B     		ldr	r3, .L19+20
 147 0094 83FB0103 		smull	r0, r3, r3, r1
 148 0098 A3EBE173 		sub	r3, r3, r1, asr #31
 149 009c 03EB4303 		add	r3, r3, r3, lsl #1
 150 00a0 5800     		lsls	r0, r3, #1
 151 00a2 0B1A     		subs	r3, r1, r0
 152              	.LVL5:
  40:Core/Src/main.c ****                 case 0: SET_BIT(GPIOD->BSRR, GPIO_BSRR_BS3); break;
 153              		.loc 1 40 13 is_stmt 1 view .LVU28
 154 00a4 DBB2     		uxtb	r3, r3
  40:Core/Src/main.c ****                 case 0: SET_BIT(GPIOD->BSRR, GPIO_BSRR_BS3); break;
 155              		.loc 1 40 13 is_stmt 0 view .LVU29
 156 00a6 052B     		cmp	r3, #5
 157 00a8 ECD8     		bhi	.L6
 158 00aa 01A1     		adr	r1, .L8
ARM GAS  C:\Users\vvman\AppData\Local\Temp\ccrefLQe.s 			page 5


 159 00ac 51F823F0 		ldr	pc, [r1, r3, lsl #2]
 160              		.p2align 2
 161              	.L8:
 162 00b0 7B000000 		.word	.L13+1
 163 00b4 C9000000 		.word	.L12+1
 164 00b8 D5000000 		.word	.L11+1
 165 00bc E1000000 		.word	.L10+1
 166 00c0 ED000000 		.word	.L9+1
 167 00c4 F9000000 		.word	.L7+1
 168              		.p2align 1
 169              	.L12:
  42:Core/Src/main.c ****                 case 2: SET_BIT(GPIOD->BSRR, GPIO_BSRR_BS5); break;
 170              		.loc 1 42 25 is_stmt 1 view .LVU30
 171 00c8 1149     		ldr	r1, .L19+12
 172 00ca 8B69     		ldr	r3, [r1, #24]
 173              	.LVL6:
  42:Core/Src/main.c ****                 case 2: SET_BIT(GPIOD->BSRR, GPIO_BSRR_BS5); break;
 174              		.loc 1 42 25 is_stmt 0 view .LVU31
 175 00cc 43F01003 		orr	r3, r3, #16
 176 00d0 8B61     		str	r3, [r1, #24]
 177              	.LVL7:
  42:Core/Src/main.c ****                 case 2: SET_BIT(GPIOD->BSRR, GPIO_BSRR_BS5); break;
 178              		.loc 1 42 62 is_stmt 1 view .LVU32
 179 00d2 D7E7     		b	.L6
 180              	.LVL8:
 181              	.L11:
  43:Core/Src/main.c ****                 case 3: SET_BIT(GPIOB->BSRR, GPIO_BSRR_BS12); break;
 182              		.loc 1 43 25 view .LVU33
 183 00d4 0E49     		ldr	r1, .L19+12
 184 00d6 8B69     		ldr	r3, [r1, #24]
 185              	.LVL9:
  43:Core/Src/main.c ****                 case 3: SET_BIT(GPIOB->BSRR, GPIO_BSRR_BS12); break;
 186              		.loc 1 43 25 is_stmt 0 view .LVU34
 187 00d8 43F02003 		orr	r3, r3, #32
 188 00dc 8B61     		str	r3, [r1, #24]
 189              	.LVL10:
  43:Core/Src/main.c ****                 case 3: SET_BIT(GPIOB->BSRR, GPIO_BSRR_BS12); break;
 190              		.loc 1 43 62 is_stmt 1 view .LVU35
 191 00de D1E7     		b	.L6
 192              	.LVL11:
 193              	.L10:
  44:Core/Src/main.c ****                 case 4: SET_BIT(GPIOB->BSRR, GPIO_BSRR_BS13); break;
 194              		.loc 1 44 25 view .LVU36
 195 00e0 0849     		ldr	r1, .L19
 196 00e2 8B69     		ldr	r3, [r1, #24]
 197              	.LVL12:
  44:Core/Src/main.c ****                 case 4: SET_BIT(GPIOB->BSRR, GPIO_BSRR_BS13); break;
 198              		.loc 1 44 25 is_stmt 0 view .LVU37
 199 00e4 43F48053 		orr	r3, r3, #4096
 200 00e8 8B61     		str	r3, [r1, #24]
 201              	.LVL13:
  44:Core/Src/main.c ****                 case 4: SET_BIT(GPIOB->BSRR, GPIO_BSRR_BS13); break;
 202              		.loc 1 44 63 is_stmt 1 view .LVU38
 203 00ea CBE7     		b	.L6
 204              	.LVL14:
 205              	.L9:
  45:Core/Src/main.c ****                 case 5: SET_BIT(GPIOB->BSRR, GPIO_BSRR_BS15); break;
ARM GAS  C:\Users\vvman\AppData\Local\Temp\ccrefLQe.s 			page 6


 206              		.loc 1 45 25 view .LVU39
 207 00ec 0549     		ldr	r1, .L19
 208 00ee 8B69     		ldr	r3, [r1, #24]
 209              	.LVL15:
  45:Core/Src/main.c ****                 case 5: SET_BIT(GPIOB->BSRR, GPIO_BSRR_BS15); break;
 210              		.loc 1 45 25 is_stmt 0 view .LVU40
 211 00f0 43F40053 		orr	r3, r3, #8192
 212 00f4 8B61     		str	r3, [r1, #24]
 213              	.LVL16:
  45:Core/Src/main.c ****                 case 5: SET_BIT(GPIOB->BSRR, GPIO_BSRR_BS15); break;
 214              		.loc 1 45 63 is_stmt 1 view .LVU41
 215 00f6 C5E7     		b	.L6
 216              	.LVL17:
 217              	.L7:
  46:Core/Src/main.c ****             }
 218              		.loc 1 46 25 view .LVU42
 219 00f8 0249     		ldr	r1, .L19
 220 00fa 8B69     		ldr	r3, [r1, #24]
 221              	.LVL18:
  46:Core/Src/main.c ****             }
 222              		.loc 1 46 25 is_stmt 0 view .LVU43
 223 00fc 43F40043 		orr	r3, r3, #32768
 224 0100 8B61     		str	r3, [r1, #24]
 225              	.LVL19:
  46:Core/Src/main.c ****             }
 226              		.loc 1 46 63 is_stmt 1 view .LVU44
 227 0102 BFE7     		b	.L6
 228              	.L20:
 229              		.align	2
 230              	.L19:
 231 0104 00040240 		.word	1073873920
 232 0108 00000000 		.word	count
 233 010c 00000000 		.word	all_leds_on
 234 0110 000C0240 		.word	1073875968
 235 0114 00000000 		.word	current_led_position
 236 0118 ABAAAA2A 		.word	715827883
 237              	.LBE4:
 238              	.LBE5:
 239              		.cfi_endproc
 240              	.LFE130:
 242              		.section	.text.main,"ax",%progbits
 243              		.align	1
 244              		.global	main
 245              		.syntax unified
 246              		.thumb
 247              		.thumb_func
 249              	main:
 250              	.LFB131:
  51:Core/Src/main.c **** int main(void){
 251              		.loc 1 51 15 view -0
 252              		.cfi_startproc
 253              		@ Volatile: function does not return.
 254              		@ args = 0, pretend = 0, frame = 0
 255              		@ frame_needed = 0, uses_anonymous_args = 0
 256 0000 08B5     		push	{r3, lr}
 257              	.LCFI3:
 258              		.cfi_def_cfa_offset 8
ARM GAS  C:\Users\vvman\AppData\Local\Temp\ccrefLQe.s 			page 7


 259              		.cfi_offset 3, -8
 260              		.cfi_offset 14, -4
  52:Core/Src/main.c **** 	GPIO_Ini();
 261              		.loc 1 52 2 view .LVU46
 262 0002 FFF7FEFF 		bl	GPIO_Ini
 263              	.LVL20:
 264 0006 12E0     		b	.L28
 265              	.L34:
  53:Core/Src/main.c **** 	/*uint32_t *)(0x40020C00UL + 0x00UL) |= 0x800; 
  54:Core/Src/main.c ****     *(uint32_t *)(0x40020C00UL + 0x04UL) |= 0x00; 
  55:Core/Src/main.c ****     *(uint32_t *)(0x40020C00UL + 0x08UL) |= 0x400; 
  56:Core/Src/main.c ****     *(uint32_t *)(0x40020C00UL + 0x0CUL) |= 0x00;*/
  57:Core/Src/main.c **** 
  58:Core/Src/main.c ****     while(1){
  59:Core/Src/main.c **** 
  60:Core/Src/main.c **** 		current_time = time_count++ / 3000;
  61:Core/Src/main.c **** 		if (READ_BIT(GPIOB->IDR, GPIO_IDR_IDR_8) != 0) {
  62:Core/Src/main.c **** 			flag_button_1 = !flag_button_1;
  63:Core/Src/main.c **** 		}
  64:Core/Src/main.c **** 		if (READ_BIT(GPIOB->IDR, GPIO_IDR_IDR_9) != 0) {
  65:Core/Src/main.c **** 			flag_button_2 = !flag_button_2;
  66:Core/Src/main.c **** 		}
  67:Core/Src/main.c **** 		if (flag_button_1) {
  68:Core/Src/main.c **** 			if ((current_time - last_button_press_time) > DEBOUNCE_DELAY / 5) {
  69:Core/Src/main.c **** 				turn = !turn;
  70:Core/Src/main.c **** 
  71:Core/Src/main.c **** 				if (count == 6) {
  72:Core/Src/main.c **** 					all_leds_on = !all_leds_on;
 266              		.loc 1 72 6 view .LVU47
 267              		.loc 1 72 20 is_stmt 0 view .LVU48
 268 0008 374A     		ldr	r2, .L35
 269 000a 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 270 000c B3FA83F3 		clz	r3, r3
 271 0010 5B09     		lsrs	r3, r3, #5
 272              		.loc 1 72 18 view .LVU49
 273 0012 1370     		strb	r3, [r2]
  73:Core/Src/main.c **** 					update_leds();
 274              		.loc 1 73 6 is_stmt 1 view .LVU50
 275 0014 FFF7FEFF 		bl	update_leds
 276              	.LVL21:
 277              	.L27:
  74:Core/Src/main.c **** 				} else if (turn == 1 || turn == 0) {
  75:Core/Src/main.c **** 					current_led_position = (current_led_position + 1)
  76:Core/Src/main.c **** 							% LED_COUNT;
  77:Core/Src/main.c **** 					update_leds();
  78:Core/Src/main.c **** 				}
  79:Core/Src/main.c **** 
  80:Core/Src/main.c **** 				last_button_press_time = current_time;
 278              		.loc 1 80 5 view .LVU51
 279              		.loc 1 80 28 is_stmt 0 view .LVU52
 280 0018 344B     		ldr	r3, .L35+4
 281 001a 1A68     		ldr	r2, [r3]
 282 001c 344B     		ldr	r3, .L35+8
 283 001e 1A60     		str	r2, [r3]
 284              	.L25:
  81:Core/Src/main.c **** 			}
  82:Core/Src/main.c **** 			flag_button_1 = 0;
ARM GAS  C:\Users\vvman\AppData\Local\Temp\ccrefLQe.s 			page 8


 285              		.loc 1 82 4 is_stmt 1 view .LVU53
 286              		.loc 1 82 18 is_stmt 0 view .LVU54
 287 0020 344B     		ldr	r3, .L35+12
 288 0022 0022     		movs	r2, #0
 289 0024 1A60     		str	r2, [r3]
 290              	.L24:
  83:Core/Src/main.c **** 		}
  84:Core/Src/main.c **** 
  85:Core/Src/main.c **** 		if (flag_button_2) {
 291              		.loc 1 85 3 is_stmt 1 view .LVU55
 292              		.loc 1 85 7 is_stmt 0 view .LVU56
 293 0026 344B     		ldr	r3, .L35+16
 294 0028 1B68     		ldr	r3, [r3]
 295              		.loc 1 85 6 view .LVU57
 296 002a 002B     		cmp	r3, #0
 297 002c 42D1     		bne	.L33
 298              	.L28:
  58:Core/Src/main.c **** 
 299              		.loc 1 58 5 is_stmt 1 view .LVU58
  60:Core/Src/main.c **** 		if (READ_BIT(GPIOB->IDR, GPIO_IDR_IDR_8) != 0) {
 300              		.loc 1 60 3 view .LVU59
  60:Core/Src/main.c **** 		if (READ_BIT(GPIOB->IDR, GPIO_IDR_IDR_8) != 0) {
 301              		.loc 1 60 28 is_stmt 0 view .LVU60
 302 002e 334A     		ldr	r2, .L35+20
 303 0030 1368     		ldr	r3, [r2]
 304 0032 591C     		adds	r1, r3, #1
 305 0034 1160     		str	r1, [r2]
  60:Core/Src/main.c **** 		if (READ_BIT(GPIOB->IDR, GPIO_IDR_IDR_8) != 0) {
 306              		.loc 1 60 31 view .LVU61
 307 0036 324A     		ldr	r2, .L35+24
 308 0038 82FB0312 		smull	r1, r2, r2, r3
 309 003c DB17     		asrs	r3, r3, #31
 310 003e C3EBA213 		rsb	r3, r3, r2, asr #6
  60:Core/Src/main.c **** 		if (READ_BIT(GPIOB->IDR, GPIO_IDR_IDR_8) != 0) {
 311              		.loc 1 60 16 view .LVU62
 312 0042 2A4A     		ldr	r2, .L35+4
 313 0044 1360     		str	r3, [r2]
  61:Core/Src/main.c **** 			flag_button_1 = !flag_button_1;
 314              		.loc 1 61 3 is_stmt 1 view .LVU63
  61:Core/Src/main.c **** 			flag_button_1 = !flag_button_1;
 315              		.loc 1 61 7 is_stmt 0 view .LVU64
 316 0046 2F4A     		ldr	r2, .L35+28
 317 0048 1269     		ldr	r2, [r2, #16]
  61:Core/Src/main.c **** 			flag_button_1 = !flag_button_1;
 318              		.loc 1 61 6 view .LVU65
 319 004a 12F4807F 		tst	r2, #256
 320 004e 05D0     		beq	.L22
  62:Core/Src/main.c **** 		}
 321              		.loc 1 62 4 is_stmt 1 view .LVU66
  62:Core/Src/main.c **** 		}
 322              		.loc 1 62 20 is_stmt 0 view .LVU67
 323 0050 2849     		ldr	r1, .L35+12
 324 0052 0A68     		ldr	r2, [r1]
 325 0054 B2FA82F2 		clz	r2, r2
 326 0058 5209     		lsrs	r2, r2, #5
  62:Core/Src/main.c **** 		}
 327              		.loc 1 62 18 view .LVU68
ARM GAS  C:\Users\vvman\AppData\Local\Temp\ccrefLQe.s 			page 9


 328 005a 0A60     		str	r2, [r1]
 329              	.L22:
  64:Core/Src/main.c **** 			flag_button_2 = !flag_button_2;
 330              		.loc 1 64 3 is_stmt 1 view .LVU69
  64:Core/Src/main.c **** 			flag_button_2 = !flag_button_2;
 331              		.loc 1 64 7 is_stmt 0 view .LVU70
 332 005c 294A     		ldr	r2, .L35+28
 333 005e 1269     		ldr	r2, [r2, #16]
  64:Core/Src/main.c **** 			flag_button_2 = !flag_button_2;
 334              		.loc 1 64 6 view .LVU71
 335 0060 12F4007F 		tst	r2, #512
 336 0064 05D0     		beq	.L23
  65:Core/Src/main.c **** 		}
 337              		.loc 1 65 4 is_stmt 1 view .LVU72
  65:Core/Src/main.c **** 		}
 338              		.loc 1 65 20 is_stmt 0 view .LVU73
 339 0066 2449     		ldr	r1, .L35+16
 340 0068 0A68     		ldr	r2, [r1]
 341 006a B2FA82F2 		clz	r2, r2
 342 006e 5209     		lsrs	r2, r2, #5
  65:Core/Src/main.c **** 		}
 343              		.loc 1 65 18 view .LVU74
 344 0070 0A60     		str	r2, [r1]
 345              	.L23:
  67:Core/Src/main.c **** 			if ((current_time - last_button_press_time) > DEBOUNCE_DELAY / 5) {
 346              		.loc 1 67 3 is_stmt 1 view .LVU75
  67:Core/Src/main.c **** 			if ((current_time - last_button_press_time) > DEBOUNCE_DELAY / 5) {
 347              		.loc 1 67 7 is_stmt 0 view .LVU76
 348 0072 204A     		ldr	r2, .L35+12
 349 0074 1268     		ldr	r2, [r2]
  67:Core/Src/main.c **** 			if ((current_time - last_button_press_time) > DEBOUNCE_DELAY / 5) {
 350              		.loc 1 67 6 view .LVU77
 351 0076 002A     		cmp	r2, #0
 352 0078 D5D0     		beq	.L24
  68:Core/Src/main.c **** 				turn = !turn;
 353              		.loc 1 68 4 is_stmt 1 view .LVU78
  68:Core/Src/main.c **** 				turn = !turn;
 354              		.loc 1 68 22 is_stmt 0 view .LVU79
 355 007a 1D4A     		ldr	r2, .L35+8
 356 007c 1268     		ldr	r2, [r2]
 357 007e 9B1A     		subs	r3, r3, r2
  68:Core/Src/main.c **** 				turn = !turn;
 358              		.loc 1 68 7 view .LVU80
 359 0080 0A2B     		cmp	r3, #10
 360 0082 CDDD     		ble	.L25
  69:Core/Src/main.c **** 
 361              		.loc 1 69 5 is_stmt 1 view .LVU81
  69:Core/Src/main.c **** 
 362              		.loc 1 69 12 is_stmt 0 view .LVU82
 363 0084 204A     		ldr	r2, .L35+32
 364 0086 1368     		ldr	r3, [r2]
 365 0088 B3FA83F3 		clz	r3, r3
 366 008c 5B09     		lsrs	r3, r3, #5
  69:Core/Src/main.c **** 
 367              		.loc 1 69 10 view .LVU83
 368 008e 1360     		str	r3, [r2]
  71:Core/Src/main.c **** 					all_leds_on = !all_leds_on;
ARM GAS  C:\Users\vvman\AppData\Local\Temp\ccrefLQe.s 			page 10


 369              		.loc 1 71 5 is_stmt 1 view .LVU84
  71:Core/Src/main.c **** 					all_leds_on = !all_leds_on;
 370              		.loc 1 71 15 is_stmt 0 view .LVU85
 371 0090 1E4B     		ldr	r3, .L35+36
 372 0092 1B68     		ldr	r3, [r3]
  71:Core/Src/main.c **** 					all_leds_on = !all_leds_on;
 373              		.loc 1 71 8 view .LVU86
 374 0094 062B     		cmp	r3, #6
 375 0096 B7D0     		beq	.L34
  74:Core/Src/main.c **** 					current_led_position = (current_led_position + 1)
 376              		.loc 1 74 12 is_stmt 1 view .LVU87
  75:Core/Src/main.c **** 							% LED_COUNT;
 377              		.loc 1 75 6 view .LVU88
  75:Core/Src/main.c **** 							% LED_COUNT;
 378              		.loc 1 75 51 is_stmt 0 view .LVU89
 379 0098 1D49     		ldr	r1, .L35+40
 380 009a 0A78     		ldrb	r2, [r1]	@ zero_extendqisi2
 381 009c 0132     		adds	r2, r2, #1
  76:Core/Src/main.c **** 					update_leds();
 382              		.loc 1 76 8 view .LVU90
 383 009e 1D4B     		ldr	r3, .L35+44
 384 00a0 83FB0203 		smull	r0, r3, r3, r2
 385 00a4 03EB4303 		add	r3, r3, r3, lsl #1
 386 00a8 5800     		lsls	r0, r3, #1
 387 00aa 131A     		subs	r3, r2, r0
  75:Core/Src/main.c **** 							% LED_COUNT;
 388              		.loc 1 75 27 view .LVU91
 389 00ac 0B70     		strb	r3, [r1]
  77:Core/Src/main.c **** 				}
 390              		.loc 1 77 6 is_stmt 1 view .LVU92
 391 00ae FFF7FEFF 		bl	update_leds
 392              	.LVL22:
 393 00b2 B1E7     		b	.L27
 394              	.L33:
  86:Core/Src/main.c **** 			if ((current_time - last_button_press_time_0) > DEBOUNCE_DELAY) {
 395              		.loc 1 86 4 view .LVU93
 396              		.loc 1 86 22 is_stmt 0 view .LVU94
 397 00b4 0D4B     		ldr	r3, .L35+4
 398 00b6 1B68     		ldr	r3, [r3]
 399 00b8 174A     		ldr	r2, .L35+48
 400 00ba 1268     		ldr	r2, [r2]
 401 00bc 9B1A     		subs	r3, r3, r2
 402              		.loc 1 86 7 view .LVU95
 403 00be 322B     		cmp	r3, #50
 404 00c0 0EDD     		ble	.L29
  87:Core/Src/main.c **** 				count++;
 405              		.loc 1 87 5 is_stmt 1 view .LVU96
 406              		.loc 1 87 10 is_stmt 0 view .LVU97
 407 00c2 124A     		ldr	r2, .L35+36
 408 00c4 1368     		ldr	r3, [r2]
 409 00c6 0133     		adds	r3, r3, #1
 410 00c8 1360     		str	r3, [r2]
  88:Core/Src/main.c **** 				if (count > 6) {
 411              		.loc 1 88 5 is_stmt 1 view .LVU98
 412              		.loc 1 88 8 is_stmt 0 view .LVU99
 413 00ca 062B     		cmp	r3, #6
 414 00cc 02DD     		ble	.L30
ARM GAS  C:\Users\vvman\AppData\Local\Temp\ccrefLQe.s 			page 11


  89:Core/Src/main.c **** 					count = 0;
 415              		.loc 1 89 6 is_stmt 1 view .LVU100
 416              		.loc 1 89 12 is_stmt 0 view .LVU101
 417 00ce 1346     		mov	r3, r2
 418 00d0 0022     		movs	r2, #0
 419 00d2 1A60     		str	r2, [r3]
 420              	.L30:
  90:Core/Src/main.c **** 				}
  91:Core/Src/main.c **** 				update_leds();
 421              		.loc 1 91 5 is_stmt 1 view .LVU102
 422 00d4 FFF7FEFF 		bl	update_leds
 423              	.LVL23:
  92:Core/Src/main.c **** 				last_button_press_time_0 = current_time;
 424              		.loc 1 92 5 view .LVU103
 425              		.loc 1 92 30 is_stmt 0 view .LVU104
 426 00d8 044B     		ldr	r3, .L35+4
 427 00da 1A68     		ldr	r2, [r3]
 428 00dc 0E4B     		ldr	r3, .L35+48
 429 00de 1A60     		str	r2, [r3]
 430              	.L29:
  93:Core/Src/main.c **** 			}
  94:Core/Src/main.c **** 			flag_button_2 = 0;
 431              		.loc 1 94 4 is_stmt 1 view .LVU105
 432              		.loc 1 94 18 is_stmt 0 view .LVU106
 433 00e0 054B     		ldr	r3, .L35+16
 434 00e2 0022     		movs	r2, #0
 435 00e4 1A60     		str	r2, [r3]
 436 00e6 A2E7     		b	.L28
 437              	.L36:
 438              		.align	2
 439              	.L35:
 440 00e8 00000000 		.word	all_leds_on
 441 00ec 00000000 		.word	current_time
 442 00f0 00000000 		.word	last_button_press_time
 443 00f4 00000000 		.word	flag_button_1
 444 00f8 00000000 		.word	flag_button_2
 445 00fc 00000000 		.word	time_count
 446 0100 F1197605 		.word	91625969
 447 0104 00040240 		.word	1073873920
 448 0108 00000000 		.word	turn
 449 010c 00000000 		.word	count
 450 0110 00000000 		.word	current_led_position
 451 0114 ABAAAA2A 		.word	715827883
 452 0118 00000000 		.word	last_button_press_time_0
 453              		.cfi_endproc
 454              	.LFE131:
 456              		.global	all_leds_on
 457              		.section	.data.all_leds_on,"aw"
 460              	all_leds_on:
 461 0000 01       		.byte	1
 462              		.global	current_led_position
 463              		.section	.bss.current_led_position,"aw",%nobits
 466              	current_led_position:
 467 0000 00       		.space	1
 468              		.global	time_count
 469              		.section	.bss.time_count,"aw",%nobits
 470              		.align	2
ARM GAS  C:\Users\vvman\AppData\Local\Temp\ccrefLQe.s 			page 12


 473              	time_count:
 474 0000 00000000 		.space	4
 475              		.global	current_time
 476              		.section	.bss.current_time,"aw",%nobits
 477              		.align	2
 480              	current_time:
 481 0000 00000000 		.space	4
 482              		.global	last_button_press_time_0
 483              		.section	.bss.last_button_press_time_0,"aw",%nobits
 484              		.align	2
 487              	last_button_press_time_0:
 488 0000 00000000 		.space	4
 489              		.global	last_button_press_time
 490              		.section	.bss.last_button_press_time,"aw",%nobits
 491              		.align	2
 494              	last_button_press_time:
 495 0000 00000000 		.space	4
 496              		.global	flag_button_2
 497              		.section	.bss.flag_button_2,"aw",%nobits
 498              		.align	2
 501              	flag_button_2:
 502 0000 00000000 		.space	4
 503              		.global	flag_button_1
 504              		.section	.bss.flag_button_1,"aw",%nobits
 505              		.align	2
 508              	flag_button_1:
 509 0000 00000000 		.space	4
 510              		.global	count
 511              		.section	.bss.count,"aw",%nobits
 512              		.align	2
 515              	count:
 516 0000 00000000 		.space	4
 517              		.global	turn
 518              		.section	.bss.turn,"aw",%nobits
 519              		.align	2
 522              	turn:
 523 0000 00000000 		.space	4
 524              		.text
 525              	.Letext0:
 526              		.file 2 "C:/LB_Np/Tools/xpack-arm-none-eabi-gcc-13.2.1-1.1/arm-none-eabi/include/machine/_default_
 527              		.file 3 "C:/LB_Np/Tools/xpack-arm-none-eabi-gcc-13.2.1-1.1/arm-none-eabi/include/sys/_stdint.h"
 528              		.file 4 "Core/Inc/../../CMSIS/Devices/stm32f429xx.h"
 529              		.file 5 "Core/Inc/init.h"
ARM GAS  C:\Users\vvman\AppData\Local\Temp\ccrefLQe.s 			page 13


DEFINED SYMBOLS
                            *ABS*:00000000 main.c
C:\Users\vvman\AppData\Local\Temp\ccrefLQe.s:21     .text.update_leds:00000000 $t
C:\Users\vvman\AppData\Local\Temp\ccrefLQe.s:27     .text.update_leds:00000000 update_leds
C:\Users\vvman\AppData\Local\Temp\ccrefLQe.s:162    .text.update_leds:000000b0 $d
C:\Users\vvman\AppData\Local\Temp\ccrefLQe.s:168    .text.update_leds:000000c8 $t
C:\Users\vvman\AppData\Local\Temp\ccrefLQe.s:231    .text.update_leds:00000104 $d
C:\Users\vvman\AppData\Local\Temp\ccrefLQe.s:515    .bss.count:00000000 count
C:\Users\vvman\AppData\Local\Temp\ccrefLQe.s:460    .data.all_leds_on:00000000 all_leds_on
C:\Users\vvman\AppData\Local\Temp\ccrefLQe.s:466    .bss.current_led_position:00000000 current_led_position
C:\Users\vvman\AppData\Local\Temp\ccrefLQe.s:243    .text.main:00000000 $t
C:\Users\vvman\AppData\Local\Temp\ccrefLQe.s:249    .text.main:00000000 main
C:\Users\vvman\AppData\Local\Temp\ccrefLQe.s:440    .text.main:000000e8 $d
C:\Users\vvman\AppData\Local\Temp\ccrefLQe.s:480    .bss.current_time:00000000 current_time
C:\Users\vvman\AppData\Local\Temp\ccrefLQe.s:494    .bss.last_button_press_time:00000000 last_button_press_time
C:\Users\vvman\AppData\Local\Temp\ccrefLQe.s:508    .bss.flag_button_1:00000000 flag_button_1
C:\Users\vvman\AppData\Local\Temp\ccrefLQe.s:501    .bss.flag_button_2:00000000 flag_button_2
C:\Users\vvman\AppData\Local\Temp\ccrefLQe.s:473    .bss.time_count:00000000 time_count
C:\Users\vvman\AppData\Local\Temp\ccrefLQe.s:522    .bss.turn:00000000 turn
C:\Users\vvman\AppData\Local\Temp\ccrefLQe.s:487    .bss.last_button_press_time_0:00000000 last_button_press_time_0
C:\Users\vvman\AppData\Local\Temp\ccrefLQe.s:467    .bss.current_led_position:00000000 $d
C:\Users\vvman\AppData\Local\Temp\ccrefLQe.s:470    .bss.time_count:00000000 $d
C:\Users\vvman\AppData\Local\Temp\ccrefLQe.s:477    .bss.current_time:00000000 $d
C:\Users\vvman\AppData\Local\Temp\ccrefLQe.s:484    .bss.last_button_press_time_0:00000000 $d
C:\Users\vvman\AppData\Local\Temp\ccrefLQe.s:491    .bss.last_button_press_time:00000000 $d
C:\Users\vvman\AppData\Local\Temp\ccrefLQe.s:498    .bss.flag_button_2:00000000 $d
C:\Users\vvman\AppData\Local\Temp\ccrefLQe.s:505    .bss.flag_button_1:00000000 $d
C:\Users\vvman\AppData\Local\Temp\ccrefLQe.s:512    .bss.count:00000000 $d
C:\Users\vvman\AppData\Local\Temp\ccrefLQe.s:519    .bss.turn:00000000 $d

UNDEFINED SYMBOLS
GPIO_Ini
