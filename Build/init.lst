ARM GAS  C:\Users\·¶\AppData\Local\Temp\cce9SvQK.s 			page 1


   1              		.cpu cortex-m4
   2              		.arch armv7e-m
   3              		.fpu fpv4-sp-d16
   4              		.eabi_attribute 27, 1
   5              		.eabi_attribute 28, 1
   6              		.eabi_attribute 20, 1
   7              		.eabi_attribute 21, 1
   8              		.eabi_attribute 23, 3
   9              		.eabi_attribute 24, 1
  10              		.eabi_attribute 25, 1
  11              		.eabi_attribute 26, 1
  12              		.eabi_attribute 30, 1
  13              		.eabi_attribute 34, 1
  14              		.eabi_attribute 18, 4
  15              		.file	"init.c"
  16              		.text
  17              	.Ltext0:
  18              		.cfi_sections	.debug_frame
  19              		.file 1 "Core/Src/init.c"
  20              		.section	.text.GPIO_Init,"ax",%progbits
  21              		.align	1
  22              		.global	GPIO_Init
  23              		.syntax unified
  24              		.thumb
  25              		.thumb_func
  27              	GPIO_Init:
  28              	.LFB130:
   1:Core/Src/init.c **** #include "init.h"
   2:Core/Src/init.c **** 
   3:Core/Src/init.c **** void GPIO_Init(void)
   4:Core/Src/init.c **** {
  29              		.loc 1 4 1 view -0
  30              		.cfi_startproc
  31              		@ args = 0, pretend = 0, frame = 0
  32              		@ frame_needed = 0, uses_anonymous_args = 0
  33              		@ link register save eliminated.
   5:Core/Src/init.c ****     // 1. ä½¿èƒ½ GPIOBã€GPIOC æ—¶é’Ÿ
   6:Core/Src/init.c ****     RCC->AHB1ENR |= (RCC_AHB1ENR_GPIOB_EN | RCC_AHB1ENR_GPIOC_EN);
  34              		.loc 1 6 5 view .LVU1
  35              		.loc 1 6 8 is_stmt 0 view .LVU2
  36 0000 194A     		ldr	r2, .L2
  37 0002 136B     		ldr	r3, [r2, #48]
  38              		.loc 1 6 18 view .LVU3
  39 0004 43F00603 		orr	r3, r3, #6
  40 0008 1363     		str	r3, [r2, #48]
   7:Core/Src/init.c ****     
   8:Core/Src/init.c ****     /************************************************************************
   9:Core/Src/init.c ****      * 2. é…ç½® GPIOB çš„ PB0/1/2/6/7/14 ä¸ºé€šç”¨è¾“å‡ºæ¨¡å¼ (MODER=01)
  10:Core/Src/init.c ****      ************************************************************************/
  11:Core/Src/init.c ****     GPIOB->MODER &= ~(
  41              		.loc 1 11 5 is_stmt 1 view .LVU4
  42              		.loc 1 11 10 is_stmt 0 view .LVU5
  43 000a 184B     		ldr	r3, .L2+4
  44 000c 1A68     		ldr	r2, [r3]
  45              		.loc 1 11 18 view .LVU6
  46 000e 1849     		ldr	r1, .L2+8
  47 0010 0A40     		ands	r2, r2, r1
ARM GAS  C:\Users\·¶\AppData\Local\Temp\cce9SvQK.s 			page 2


  48 0012 1A60     		str	r2, [r3]
  12:Core/Src/init.c ****         (3 << (LED_GREEN_PIN * 2)) |
  13:Core/Src/init.c ****         (3 << (LED_MODE1_PIN  * 2)) |
  14:Core/Src/init.c ****         (3 << (LED_MODE2_PIN  * 2)) |
  15:Core/Src/init.c ****         (3 << (LED_MODE3_PIN  * 2)) |
  16:Core/Src/init.c ****         (3 << (LED_BLUE_PIN   * 2)) |
  17:Core/Src/init.c ****         (3 << (LED_RED_PIN    * 2))
  18:Core/Src/init.c ****     );
  19:Core/Src/init.c ****     GPIOB->MODER |= (
  49              		.loc 1 19 5 is_stmt 1 view .LVU7
  50              		.loc 1 19 10 is_stmt 0 view .LVU8
  51 0014 1A68     		ldr	r2, [r3]
  52              		.loc 1 19 18 view .LVU9
  53 0016 1748     		ldr	r0, .L2+12
  54 0018 0243     		orrs	r2, r2, r0
  55 001a 1A60     		str	r2, [r3]
  20:Core/Src/init.c ****         (1 << (LED_GREEN_PIN * 2)) |
  21:Core/Src/init.c ****         (1 << (LED_MODE1_PIN  * 2)) |
  22:Core/Src/init.c ****         (1 << (LED_MODE2_PIN  * 2)) |
  23:Core/Src/init.c ****         (1 << (LED_MODE3_PIN  * 2)) |
  24:Core/Src/init.c ****         (1 << (LED_BLUE_PIN   * 2)) |
  25:Core/Src/init.c ****         (1 << (LED_RED_PIN    * 2))
  26:Core/Src/init.c ****     );
  27:Core/Src/init.c ****     
  28:Core/Src/init.c ****     // æŽ¨æŒ½è¾“å‡º(OTYPER=0)ï¼Œé€Ÿåº¦ä¸­é€Ÿ(01)
  29:Core/Src/init.c ****     GPIOB->OTYPER &= ~(
  56              		.loc 1 29 5 is_stmt 1 view .LVU10
  57              		.loc 1 29 10 is_stmt 0 view .LVU11
  58 001c 5A68     		ldr	r2, [r3, #4]
  59              		.loc 1 29 19 view .LVU12
  60 001e 22F48142 		bic	r2, r2, #16512
  61 0022 22F04702 		bic	r2, r2, #71
  62 0026 5A60     		str	r2, [r3, #4]
  30:Core/Src/init.c ****         (1 << LED_GREEN_PIN) |
  31:Core/Src/init.c ****         (1 << LED_MODE1_PIN) |
  32:Core/Src/init.c ****         (1 << LED_MODE2_PIN) |
  33:Core/Src/init.c ****         (1 << LED_MODE3_PIN) |
  34:Core/Src/init.c ****         (1 << LED_BLUE_PIN)  |
  35:Core/Src/init.c ****         (1 << LED_RED_PIN)
  36:Core/Src/init.c ****     );
  37:Core/Src/init.c ****     GPIOB->OSPEEDR &= ~(
  63              		.loc 1 37 5 is_stmt 1 view .LVU13
  64              		.loc 1 37 10 is_stmt 0 view .LVU14
  65 0028 9A68     		ldr	r2, [r3, #8]
  66              		.loc 1 37 20 view .LVU15
  67 002a 0A40     		ands	r2, r2, r1
  68 002c 9A60     		str	r2, [r3, #8]
  38:Core/Src/init.c ****         (3 << (LED_GREEN_PIN * 2)) |
  39:Core/Src/init.c ****         (3 << (LED_MODE1_PIN  * 2)) |
  40:Core/Src/init.c ****         (3 << (LED_MODE2_PIN  * 2)) |
  41:Core/Src/init.c ****         (3 << (LED_MODE3_PIN  * 2)) |
  42:Core/Src/init.c ****         (3 << (LED_BLUE_PIN   * 2)) |
  43:Core/Src/init.c ****         (3 << (LED_RED_PIN    * 2))
  44:Core/Src/init.c ****     );
  45:Core/Src/init.c ****     GPIOB->OSPEEDR |= (
  69              		.loc 1 45 5 is_stmt 1 view .LVU16
  70              		.loc 1 45 10 is_stmt 0 view .LVU17
ARM GAS  C:\Users\·¶\AppData\Local\Temp\cce9SvQK.s 			page 3


  71 002e 9A68     		ldr	r2, [r3, #8]
  72              		.loc 1 45 20 view .LVU18
  73 0030 0243     		orrs	r2, r2, r0
  74 0032 9A60     		str	r2, [r3, #8]
  46:Core/Src/init.c ****         (1 << (LED_GREEN_PIN * 2)) |
  47:Core/Src/init.c ****         (1 << (LED_MODE1_PIN  * 2)) |
  48:Core/Src/init.c ****         (1 << (LED_MODE2_PIN  * 2)) |
  49:Core/Src/init.c ****         (1 << (LED_MODE3_PIN  * 2)) |
  50:Core/Src/init.c ****         (1 << (LED_BLUE_PIN   * 2)) |
  51:Core/Src/init.c ****         (1 << (LED_RED_PIN    * 2))
  52:Core/Src/init.c ****     );
  53:Core/Src/init.c ****     GPIOB->PUPDR &= ~(
  75              		.loc 1 53 5 is_stmt 1 view .LVU19
  76              		.loc 1 53 10 is_stmt 0 view .LVU20
  77 0034 DA68     		ldr	r2, [r3, #12]
  78              		.loc 1 53 18 view .LVU21
  79 0036 0A40     		ands	r2, r2, r1
  80 0038 DA60     		str	r2, [r3, #12]
  54:Core/Src/init.c ****         (3 << (LED_GREEN_PIN * 2)) |
  55:Core/Src/init.c ****         (3 << (LED_MODE1_PIN  * 2)) |
  56:Core/Src/init.c ****         (3 << (LED_MODE2_PIN  * 2)) |
  57:Core/Src/init.c ****         (3 << (LED_MODE3_PIN  * 2)) |
  58:Core/Src/init.c ****         (3 << (LED_BLUE_PIN   * 2)) |
  59:Core/Src/init.c ****         (3 << (LED_RED_PIN    * 2))
  60:Core/Src/init.c ****     );
  61:Core/Src/init.c ****     
  62:Core/Src/init.c ****     /************************************************************************
  63:Core/Src/init.c ****      * 3. é…ç½® GPIOC çš„ PC12/8/9/10 ä¸ºè¾“å…¥æ¨¡å¼ (MODER=00)
  64:Core/Src/init.c ****      ************************************************************************/
  65:Core/Src/init.c ****     GPIOC->MODER &= ~(
  81              		.loc 1 65 5 is_stmt 1 view .LVU22
  82              		.loc 1 65 10 is_stmt 0 view .LVU23
  83 003a 0F4A     		ldr	r2, .L2+16
  84 003c 1168     		ldr	r1, [r2]
  85              		.loc 1 65 18 view .LVU24
  86 003e 21F04F71 		bic	r1, r1, #54263808
  87 0042 21F44031 		bic	r1, r1, #196608
  88 0046 1160     		str	r1, [r2]
  66:Core/Src/init.c ****         (3 << (BTN_MODE_PIN * 2)) |  // PC12
  67:Core/Src/init.c ****         (3 << (BTN1_PIN * 2))     |  // PC8
  68:Core/Src/init.c ****         (3 << (BTN2_PIN * 2))     |  // PC9
  69:Core/Src/init.c ****         (3 << (BTN3_PIN * 2))        // PC10
  70:Core/Src/init.c ****     );
  71:Core/Src/init.c ****     
  72:Core/Src/init.c ****     // ä¸º PC12, PC8, PC9, PC10 å¯ç”¨å†…éƒ¨ä¸Šæ‹‰ (PUPDR=01)
  73:Core/Src/init.c ****     // ï¼ˆæŒ‰ä¸‹æŽ¥åœ° -> 0ç”µå¹³ï¼›æ¾å¼€æ—¶ç”±ä¸Šæ‹‰-> 1ç”µå¹³ï¼‰
  74:Core/Src/init.c ****     GPIOC->PUPDR &= ~(
  89              		.loc 1 74 5 is_stmt 1 view .LVU25
  90              		.loc 1 74 10 is_stmt 0 view .LVU26
  91 0048 D168     		ldr	r1, [r2, #12]
  92              		.loc 1 74 18 view .LVU27
  93 004a 21F04F71 		bic	r1, r1, #54263808
  94 004e 21F44031 		bic	r1, r1, #196608
  95 0052 D160     		str	r1, [r2, #12]
  75:Core/Src/init.c ****         (3 << (BTN_MODE_PIN * 2)) |
  76:Core/Src/init.c ****         (3 << (BTN1_PIN * 2))     |
  77:Core/Src/init.c ****         (3 << (BTN2_PIN * 2))     |
ARM GAS  C:\Users\·¶\AppData\Local\Temp\cce9SvQK.s 			page 4


  78:Core/Src/init.c ****         (3 << (BTN3_PIN * 2))
  79:Core/Src/init.c ****     );
  80:Core/Src/init.c ****     GPIOC->PUPDR |= (
  96              		.loc 1 80 5 is_stmt 1 view .LVU28
  97              		.loc 1 80 10 is_stmt 0 view .LVU29
  98 0054 D168     		ldr	r1, [r2, #12]
  99              		.loc 1 80 18 view .LVU30
 100 0056 41F08A71 		orr	r1, r1, #18087936
 101 005a 41F48031 		orr	r1, r1, #65536
 102 005e D160     		str	r1, [r2, #12]
  81:Core/Src/init.c ****         (1 << (BTN_MODE_PIN * 2)) |  // PC12 -> ä¸Šæ‹‰
  82:Core/Src/init.c ****         (1 << (BTN1_PIN * 2))     |  // PC8  -> ä¸Šæ‹‰
  83:Core/Src/init.c ****         (1 << (BTN2_PIN * 2))     |  // PC9  -> ä¸Šæ‹‰
  84:Core/Src/init.c ****         (1 << (BTN3_PIN * 2))        // PC10 -> ä¸Šæ‹‰
  85:Core/Src/init.c ****     );
  86:Core/Src/init.c ****     
  87:Core/Src/init.c ****     // 4. åˆå§‹æ—¶ï¼Œå…ˆå°†æ‰€æœ‰LEDéƒ½ç†„ç­
  88:Core/Src/init.c ****     GPIOB->BSRR = (
 103              		.loc 1 88 5 is_stmt 1 view .LVU31
 104              		.loc 1 88 17 is_stmt 0 view .LVU32
 105 0060 064A     		ldr	r2, .L2+20
 106 0062 9A61     		str	r2, [r3, #24]
  89:Core/Src/init.c ****         (1 << (LED_GREEN_PIN + 16)) |
  90:Core/Src/init.c ****         (1 << (LED_BLUE_PIN  + 16)) |
  91:Core/Src/init.c ****         (1 << (LED_RED_PIN   + 16)) |
  92:Core/Src/init.c ****         (1 << (LED_MODE1_PIN + 16)) |
  93:Core/Src/init.c ****         (1 << (LED_MODE2_PIN + 16)) |
  94:Core/Src/init.c ****         (1 << (LED_MODE3_PIN + 16))
  95:Core/Src/init.c ****     );
  96:Core/Src/init.c **** }
 107              		.loc 1 96 1 view .LVU33
 108 0064 7047     		bx	lr
 109              	.L3:
 110 0066 00BF     		.align	2
 111              	.L2:
 112 0068 00380240 		.word	1073887232
 113 006c 00040240 		.word	1073873920
 114 0070 C00FFFCF 		.word	-805367872
 115 0074 15500010 		.word	268455957
 116 0078 00080240 		.word	1073874944
 117 007c 0000C740 		.word	1086783488
 118              		.cfi_endproc
 119              	.LFE130:
 121              		.section	.text.delay_ms,"ax",%progbits
 122              		.align	1
 123              		.global	delay_ms
 124              		.syntax unified
 125              		.thumb
 126              		.thumb_func
 128              	delay_ms:
 129              	.LVL0:
 130              	.LFB131:
  97:Core/Src/init.c **** 
  98:Core/Src/init.c **** /**
  99:Core/Src/init.c ****  * ç®€æ˜“å»¶æ—¶å‡½æ•°(è½¯ä»¶æ–¹å¼)ï¼Œä»…ä½œæ¼”ç¤º
 100:Core/Src/init.c ****  * å®žé™…ä¸­å¯ç”¨SysTickæˆ–ç¡¬ä»¶å®šæ—¶å™¨
 101:Core/Src/init.c ****  */
ARM GAS  C:\Users\·¶\AppData\Local\Temp\cce9SvQK.s 			page 5


 102:Core/Src/init.c **** void delay_ms(volatile uint32_t ms)
 103:Core/Src/init.c **** {
 131              		.loc 1 103 1 is_stmt 1 view -0
 132              		.cfi_startproc
 133              		@ args = 0, pretend = 0, frame = 16
 134              		@ frame_needed = 0, uses_anonymous_args = 0
 135              		@ link register save eliminated.
 136              		.loc 1 103 1 is_stmt 0 view .LVU35
 137 0000 84B0     		sub	sp, sp, #16
 138              	.LCFI0:
 139              		.cfi_def_cfa_offset 16
 140 0002 0190     		str	r0, [sp, #4]
 104:Core/Src/init.c ****     for(; ms>0; ms--)
 141              		.loc 1 104 5 is_stmt 1 view .LVU36
 142 0004 0AE0     		b	.L5
 143              	.L7:
 144              	.LBB2:
 105:Core/Src/init.c ****     {
 106:Core/Src/init.c ****         for(volatile uint32_t i=0; i<18000; i++);
 145              		.loc 1 106 46 discriminator 3 view .LVU37
 146 0006 039B     		ldr	r3, [sp, #12]
 147 0008 0133     		adds	r3, r3, #1
 148 000a 0393     		str	r3, [sp, #12]
 149              	.L6:
 150              		.loc 1 106 37 discriminator 1 view .LVU38
 151 000c 039A     		ldr	r2, [sp, #12]
 152 000e 44F24F63 		movw	r3, #17999
 153 0012 9A42     		cmp	r2, r3
 154 0014 F7D9     		bls	.L7
 155              	.LBE2:
 104:Core/Src/init.c ****     for(; ms>0; ms--)
 156              		.loc 1 104 19 view .LVU39
 157 0016 019B     		ldr	r3, [sp, #4]
 158 0018 013B     		subs	r3, r3, #1
 159 001a 0193     		str	r3, [sp, #4]
 160              	.L5:
 104:Core/Src/init.c ****     for(; ms>0; ms--)
 161              		.loc 1 104 13 discriminator 1 view .LVU40
 162 001c 019B     		ldr	r3, [sp, #4]
 163 001e 13B1     		cbz	r3, .L10
 164              		.loc 1 106 9 view .LVU41
 165              	.LBB3:
 166              		.loc 1 106 13 view .LVU42
 167              		.loc 1 106 31 is_stmt 0 view .LVU43
 168 0020 0023     		movs	r3, #0
 169 0022 0393     		str	r3, [sp, #12]
 170              		.loc 1 106 9 view .LVU44
 171 0024 F2E7     		b	.L6
 172              	.L10:
 173              	.LBE3:
 107:Core/Src/init.c ****     }
 108:Core/Src/init.c **** }...
 174              		.loc 1 108 1 view .LVU45
 175 0026 04B0     		add	sp, sp, #16
 176              	.LCFI1:
 177              		.cfi_def_cfa_offset 0
 178              		@ sp needed
ARM GAS  C:\Users\·¶\AppData\Local\Temp\cce9SvQK.s 			page 6


 179 0028 7047     		bx	lr
 180              		.cfi_endproc
 181              	.LFE131:
 183              		.text
 184              	.Letext0:
 185              		.file 2 "F:/STM32Tools/SysGCC/arm-none-eabi/include/machine/_default_types.h"
 186              		.file 3 "F:/STM32Tools/SysGCC/arm-none-eabi/include/sys/_stdint.h"
 187              		.file 4 "CMSIS/Devices/stm32f429xx.h"
ARM GAS  C:\Users\·¶\AppData\Local\Temp\cce9SvQK.s 			page 7


DEFINED SYMBOLS
                            *ABS*:00000000 init.c
C:\Users\·¶\AppData\Local\Temp\cce9SvQK.s:21     .text.GPIO_Init:00000000 $t
C:\Users\·¶\AppData\Local\Temp\cce9SvQK.s:27     .text.GPIO_Init:00000000 GPIO_Init
C:\Users\·¶\AppData\Local\Temp\cce9SvQK.s:112    .text.GPIO_Init:00000068 $d
C:\Users\·¶\AppData\Local\Temp\cce9SvQK.s:122    .text.delay_ms:00000000 $t
C:\Users\·¶\AppData\Local\Temp\cce9SvQK.s:128    .text.delay_ms:00000000 delay_ms

NO UNDEFINED SYMBOLS
