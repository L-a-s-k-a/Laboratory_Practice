ARM GAS  C:\Users\∑∂\AppData\Local\Temp\cciHP67h.s 			page 1


   1              		.cpu cortex-m4
   2              		.arch armv7e-m
   3              		.fpu fpv4-sp-d16
   4              		.eabi_attribute 27, 1
   5              		.eabi_attribute 28, 1
   6              		.eabi_attribute 20, 1
   7              		.eabi_attribute 21, 1
   8              		.eabi_attribute 23, 3
   9              		.eabi_attribute 24, 1
  10              		.eabi_attribute 25, 1
  11              		.eabi_attribute 26, 1
  12              		.eabi_attribute 30, 1
  13              		.eabi_attribute 34, 1
  14              		.eabi_attribute 18, 4
  15              		.file	"main.c"
  16              		.text
  17              	.Ltext0:
  18              		.cfi_sections	.debug_frame
  19              		.file 1 "Core/Src/main.c"
  20              		.section	.text.mode1_process,"ax",%progbits
  21              		.align	1
  22              		.syntax unified
  23              		.thumb
  24              		.thumb_func
  26              	mode1_process:
  27              	.LFB131:
   1:Core/Src/main.c **** #include "init.h"
   2:Core/Src/main.c **** #include "it_handlers.h"
   3:Core/Src/main.c **** #include <stdbool.h>
   4:Core/Src/main.c **** 
   5:Core/Src/main.c **** // ------------------- ÂÖ®Â±ÄÂèòÈáè -------------------
   6:Core/Src/main.c **** // 1ms ËÆ°Êï∞
   7:Core/Src/main.c **** volatile uint32_t g_systickCount = 0;
   8:Core/Src/main.c **** 
   9:Core/Src/main.c **** // ÂΩìÂâçÂ∑•‰ΩúÊ®°ÂºèÔºö1=Ê®°Âºè1(ÂØπÁÅØ)Ôºå2=Ê®°Âºè2(ÂçïÁã¨Èó™ÁÉÅ)
  10:Core/Src/main.c **** volatile uint8_t  g_workMode = 1;  
  11:Core/Src/main.c **** 
  12:Core/Src/main.c **** // Ê®°Âºè1È¢ëÁéáÁ¥¢Âºï(0..2) => 0=>0.5Hz,1=>1.7Hz,2=>2.2Hz
  13:Core/Src/main.c **** volatile uint8_t  g_mode1FreqIndex = 0;
  14:Core/Src/main.c **** 
  15:Core/Src/main.c **** // Ê®°Âºè2‰∏ãÔºåÊØè‰∏™LEDÁöÑÈ¢ëÁéáÁ¥¢Âºï(0..2=Â∑≤ÊøÄÊ¥ªÔºåÊàñÂèØÁî®-1Ë°®Á§∫Êú™ÊøÄÊ¥ª)
  16:Core/Src/main.c **** volatile uint8_t  g_currentLedIndex[6] = {255,255,255,255,255,255}; 
  17:Core/Src/main.c **** // ‰πüÂèØÁî® -1 Ë°®Á§∫‚ÄúÂ∞öÊú™ÊøÄÊ¥ªËøá‚ÄùÔºåÊ≠§Â§Ñ 255 ‰ªÖÊòØÊºîÁ§∫
  18:Core/Src/main.c **** 
  19:Core/Src/main.c **** // Ê®°Âºè2‰∏ãÔºåÂΩìÂâçÈÄâ‰∏≠ÁöÑLEDÁºñÂè∑(0..5)
  20:Core/Src/main.c **** volatile uint8_t  g_selectedLed = 0;
  21:Core/Src/main.c **** 
  22:Core/Src/main.c **** 
  23:Core/Src/main.c **** // ------------------- ÂØπÁÅØÂàáÊç¢/Áã¨Á´ãÈó™ÁÉÅÁî®ÁöÑ‰∏Ä‰∫õÂèÇÊï∞ -------------------
  24:Core/Src/main.c **** 
  25:Core/Src/main.c **** // Ê®°Âºè1ÁöÑ‰∏âÊ°£Âë®Êúü(ÊØ´Áßí)
  26:Core/Src/main.c **** // ‰æãÂ¶Ç 0.5Hz => 2000ms ÂàáÊç¢‰∏ã‰∏ÄÂØπ
  27:Core/Src/main.c **** //      1.7Hz => ~588ms
  28:Core/Src/main.c **** //      2.2Hz => ~455ms (ÂõõËàç‰∫îÂÖ•)
  29:Core/Src/main.c **** static const uint16_t mode1_periods[3] = {2000, 588, 455};
  30:Core/Src/main.c **** 
  31:Core/Src/main.c **** // ÂΩìÂâçÂØπÁÅØÁºñÂè∑(0..2 => ÂàÜÂà´Ë°®Á§∫(3&4),(2&5),(1&6))
ARM GAS  C:\Users\∑∂\AppData\Local\Temp\cciHP67h.s 			page 2


  32:Core/Src/main.c **** static uint8_t   currentPairIndex = 0;
  33:Core/Src/main.c **** static uint32_t  lastMode1SwitchTime = 0;
  34:Core/Src/main.c **** 
  35:Core/Src/main.c **** // Ê®°Âºè2ÁöÑ‰∏âÊ°£ÂçäÂë®Êúü(ÊàñÊï¥Âë®Êúü) => ‰∏∫‰∫ÜÈó™ÁÉÅÔºåÊØèËøáÊ≠§msÂ∞± toggle
  36:Core/Src/main.c **** // È¢ëÁéá0.3Hz => Âë®Êúü=3333ms => toggle‰∏ÄÊ¨°=3333ms
  37:Core/Src/main.c **** // È¢ëÁéá0.8Hz => Âë®Êúü=1250ms
  38:Core/Src/main.c **** // È¢ëÁéá1.4Hz => Âë®Êúü= ~714ms
  39:Core/Src/main.c **** // ‰πüÂèØÊ†πÊçÆÈúÄË¶ÅÁî®ÂçäÂë®ÊúüÊàñÂÖ∂‰ªñÂÜôÊ≥ï
  40:Core/Src/main.c **** static const uint16_t mode2_periods[3] = {3333, 1250, 714};
  41:Core/Src/main.c **** 
  42:Core/Src/main.c **** // ËÆ∞ÂΩïÊØè‰∏™LEDÁöÑ‚Äú‰∏äÊ¨°toggleÊó∂Âàª‚Äù
  43:Core/Src/main.c **** static uint32_t lastToggleTime[6] = {0,0,0,0,0,0};
  44:Core/Src/main.c **** 
  45:Core/Src/main.c **** // ------------------- ÂáΩÊï∞Â£∞Êòé -------------------
  46:Core/Src/main.c **** static void mode1_process(void);
  47:Core/Src/main.c **** static void mode2_process(void);
  48:Core/Src/main.c **** 
  49:Core/Src/main.c **** int main(void)
  50:Core/Src/main.c **** {
  51:Core/Src/main.c ****     // 1. Á°¨‰ª∂ÂàùÂßãÂåñ
  52:Core/Src/main.c ****     RCC_Ini();
  53:Core/Src/main.c ****     GPIO_Ini();
  54:Core/Src/main.c ****     EXTI_ITR_Ini();
  55:Core/Src/main.c ****     SysTick_Init();
  56:Core/Src/main.c **** 
  57:Core/Src/main.c ****     // ÂºÄÊú∫ÈªòËÆ§ÊòØÊ®°Âºè1, freq=ÊúÄÊÖ¢(0.5Hz)
  58:Core/Src/main.c ****     g_mode1FreqIndex = 0; 
  59:Core/Src/main.c ****     // Á°Æ‰øù‚ÄúÂØπÁÅØ‚Äù‰ªé (3&4) ÂºÄÂßã
  60:Core/Src/main.c ****     currentPairIndex = 0;
  61:Core/Src/main.c ****     lastMode1SwitchTime = g_systickCount;
  62:Core/Src/main.c **** 
  63:Core/Src/main.c ****     // ‰∏ªÂæ™ÁéØ
  64:Core/Src/main.c ****     while (1)
  65:Core/Src/main.c ****     {
  66:Core/Src/main.c ****         if (g_workMode == 1)
  67:Core/Src/main.c ****         {
  68:Core/Src/main.c ****             mode1_process();
  69:Core/Src/main.c ****         }
  70:Core/Src/main.c ****         else
  71:Core/Src/main.c ****         {
  72:Core/Src/main.c ****             mode2_process();
  73:Core/Src/main.c ****         }
  74:Core/Src/main.c ****     }
  75:Core/Src/main.c ****     // ‰∏ç‰ºöÂà∞ËææËøôÈáå
  76:Core/Src/main.c ****     // return 0;
  77:Core/Src/main.c **** }
  78:Core/Src/main.c **** 
  79:Core/Src/main.c **** // ------------------- Ê®°Âºè1ÈÄªËæëÔºöÂØπÁÅØÂàáÊç¢ -------------------
  80:Core/Src/main.c **** static void mode1_process(void)
  81:Core/Src/main.c **** {
  28              		.loc 1 81 1 view -0
  29              		.cfi_startproc
  30              		@ args = 0, pretend = 0, frame = 0
  31              		@ frame_needed = 0, uses_anonymous_args = 0
  32              		@ link register save eliminated.
  82:Core/Src/main.c ****     // ËÆ°ÁÆóÊú¨Ê®°Âºè‰∏ãÁöÑÂàáÊç¢Âë®Êúü
  83:Core/Src/main.c ****     uint16_t period = mode1_periods[g_mode1FreqIndex];
ARM GAS  C:\Users\∑∂\AppData\Local\Temp\cciHP67h.s 			page 3


  33              		.loc 1 83 5 view .LVU1
  34              		.loc 1 83 36 is_stmt 0 view .LVU2
  35 0000 184B     		ldr	r3, .L6
  36 0002 1A78     		ldrb	r2, [r3]	@ zero_extendqisi2
  37              		.loc 1 83 14 view .LVU3
  38 0004 184B     		ldr	r3, .L6+4
  39 0006 33F81210 		ldrh	r1, [r3, r2, lsl #1]
  40              	.LVL0:
  84:Core/Src/main.c **** 
  85:Core/Src/main.c ****     // Âà§Êñ≠ÊòØÂê¶Âà∞ÂàáÊç¢Êó∂Èó¥
  86:Core/Src/main.c ****     uint32_t now = g_systickCount;
  41              		.loc 1 86 5 is_stmt 1 view .LVU4
  42              		.loc 1 86 14 is_stmt 0 view .LVU5
  43 000a 184B     		ldr	r3, .L6+8
  44 000c 1A68     		ldr	r2, [r3]
  45              	.LVL1:
  87:Core/Src/main.c ****     if ((now - lastMode1SwitchTime) >= period)
  46              		.loc 1 87 5 is_stmt 1 view .LVU6
  47              		.loc 1 87 14 is_stmt 0 view .LVU7
  48 000e 184B     		ldr	r3, .L6+12
  49 0010 1B68     		ldr	r3, [r3]
  50 0012 D31A     		subs	r3, r2, r3
  51              		.loc 1 87 8 view .LVU8
  52 0014 8B42     		cmp	r3, r1
  53 0016 0BD3     		bcc	.L2
  88:Core/Src/main.c ****     {
  89:Core/Src/main.c ****         lastMode1SwitchTime = now;
  54              		.loc 1 89 9 is_stmt 1 view .LVU9
  55              		.loc 1 89 29 is_stmt 0 view .LVU10
  56 0018 154B     		ldr	r3, .L6+12
  57 001a 1A60     		str	r2, [r3]
  90:Core/Src/main.c **** 
  91:Core/Src/main.c ****         // ÂàáÊç¢Âà∞‰∏ã‰∏ÄÂØπ
  92:Core/Src/main.c ****         currentPairIndex = (currentPairIndex + 1) % 3;
  58              		.loc 1 92 9 is_stmt 1 view .LVU11
  59              		.loc 1 92 46 is_stmt 0 view .LVU12
  60 001c 1549     		ldr	r1, .L6+16
  61              	.LVL2:
  62              		.loc 1 92 46 view .LVU13
  63 001e 0A78     		ldrb	r2, [r1]	@ zero_extendqisi2
  64              	.LVL3:
  65              		.loc 1 92 46 view .LVU14
  66 0020 0132     		adds	r2, r2, #1
  67              		.loc 1 92 51 view .LVU15
  68 0022 154B     		ldr	r3, .L6+20
  69              		.loc 1 92 51 view .LVU16
  70 0024 83FB0203 		smull	r0, r3, r3, r2
  71 0028 03EB4303 		add	r3, r3, r3, lsl #1
  72 002c D31A     		subs	r3, r2, r3
  73              		.loc 1 92 26 view .LVU17
  74 002e 0B70     		strb	r3, [r1]
  75              	.LVL4:
  76              	.L2:
  93:Core/Src/main.c ****     }
  94:Core/Src/main.c **** 
  95:Core/Src/main.c ****     // Ê†πÊçÆ currentPairIndex ÁÇπ‰∫ÆÁõ∏Â∫îÂØπÁÅØÔºåÂÖ∂‰ΩôÁÜÑÁÅ≠
  96:Core/Src/main.c ****     // ‰∏âÂØπ: pair0=(3,4), pair1=(2,5), pair2=(1,6)
ARM GAS  C:\Users\∑∂\AppData\Local\Temp\cciHP67h.s 			page 4


  97:Core/Src/main.c ****     // LEDÁºñÂè∑‰∏éIOÂØπÂ∫îÂÖ≥Á≥ªÔºåËØ∑ÊÇ®Ê†πÊçÆÂÆûÈôÖ‰øÆÊîπ
  98:Core/Src/main.c ****     // ÂÅáËÆæ: LED#1=>PB14, #2=>PB7, #3=>PB0, #4=>PB2, #5=>PB6, #6=>PB1
  99:Core/Src/main.c ****     // Âàô (3,4) => PB0 & PB2, (2,5) => PB7 & PB6, (1,6)=>PB14 & PB1
 100:Core/Src/main.c ****     // ËøôÈáåÂèØ‰ª•Áõ¥Êé•ÂÜô‚ÄúÊääÊâÄÊúâLEDÂÖ≥ÊéâÔºåÁÑ∂ÂêéÊâìÂºÄÈúÄË¶ÅÁöÑÈÇ£‰∏§‰∏™‚Äù
 101:Core/Src/main.c **** 
 102:Core/Src/main.c ****     // ÂÖàÂÖ≥ÂÖ®ÈÉ®
 103:Core/Src/main.c ****     GPIOB->BSRR = ( LED1_PIN | LED2_PIN | LED3_PIN |
  77              		.loc 1 103 5 is_stmt 1 view .LVU18
  78              		.loc 1 103 17 is_stmt 0 view .LVU19
  79 0030 124B     		ldr	r3, .L6+24
  80 0032 134A     		ldr	r2, .L6+28
  81 0034 9A61     		str	r2, [r3, #24]
 104:Core/Src/main.c ****                     LED4_PIN | LED5_PIN | LED6_PIN ) << 16;
 105:Core/Src/main.c **** 
 106:Core/Src/main.c ****     switch (currentPairIndex)
  82              		.loc 1 106 5 is_stmt 1 view .LVU20
  83 0036 0F4B     		ldr	r3, .L6+16
  84 0038 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
  85 003a 012B     		cmp	r3, #1
  86 003c 09D0     		beq	.L3
  87 003e 022B     		cmp	r3, #2
  88 0040 0BD0     		beq	.L4
  89 0042 73B9     		cbnz	r3, .L1
 107:Core/Src/main.c ****     {
 108:Core/Src/main.c ****     case 0: // (3&4)
 109:Core/Src/main.c ****         // ÂØπÂ∫î LED3_PIN, LED4_PIN
 110:Core/Src/main.c ****         GPIOB->BSRR = LED3_PIN | LED4_PIN;
  90              		.loc 1 110 9 view .LVU21
  91              		.loc 1 110 21 is_stmt 0 view .LVU22
  92 0044 03F18043 		add	r3, r3, #1073741824
  93 0048 03F50133 		add	r3, r3, #132096
  94 004c 0522     		movs	r2, #5
  95 004e 9A61     		str	r2, [r3, #24]
 111:Core/Src/main.c ****         break;
  96              		.loc 1 111 9 is_stmt 1 view .LVU23
  97 0050 7047     		bx	lr
  98              	.L3:
 112:Core/Src/main.c ****     case 1: // (2&5)
 113:Core/Src/main.c ****         GPIOB->BSRR = LED2_PIN | LED5_PIN;
  99              		.loc 1 113 9 view .LVU24
 100              		.loc 1 113 21 is_stmt 0 view .LVU25
 101 0052 0A4B     		ldr	r3, .L6+24
 102 0054 C022     		movs	r2, #192
 103 0056 9A61     		str	r2, [r3, #24]
 114:Core/Src/main.c ****         break;
 104              		.loc 1 114 9 is_stmt 1 view .LVU26
 105 0058 7047     		bx	lr
 106              	.L4:
 115:Core/Src/main.c ****     case 2: // (1&6)
 116:Core/Src/main.c ****         GPIOB->BSRR = LED1_PIN | LED6_PIN;
 107              		.loc 1 116 9 view .LVU27
 108              		.loc 1 116 21 is_stmt 0 view .LVU28
 109 005a 084B     		ldr	r3, .L6+24
 110 005c 44F20202 		movw	r2, #16386
 111 0060 9A61     		str	r2, [r3, #24]
 117:Core/Src/main.c ****         break;
 112              		.loc 1 117 9 is_stmt 1 view .LVU29
ARM GAS  C:\Users\∑∂\AppData\Local\Temp\cciHP67h.s 			page 5


 113              	.L1:
 118:Core/Src/main.c ****     default:
 119:Core/Src/main.c ****         break;
 120:Core/Src/main.c ****     }
 121:Core/Src/main.c **** }
 114              		.loc 1 121 1 is_stmt 0 view .LVU30
 115 0062 7047     		bx	lr
 116              	.L7:
 117              		.align	2
 118              	.L6:
 119 0064 00000000 		.word	g_mode1FreqIndex
 120 0068 00000000 		.word	mode1_periods
 121 006c 00000000 		.word	g_systickCount
 122 0070 00000000 		.word	lastMode1SwitchTime
 123 0074 00000000 		.word	currentPairIndex
 124 0078 56555555 		.word	1431655766
 125 007c 00040240 		.word	1073873920
 126 0080 0000C740 		.word	1086783488
 127              		.cfi_endproc
 128              	.LFE131:
 130              		.section	.text.mode2_process,"ax",%progbits
 131              		.align	1
 132              		.syntax unified
 133              		.thumb
 134              		.thumb_func
 136              	mode2_process:
 137              	.LFB132:
 122:Core/Src/main.c **** 
 123:Core/Src/main.c **** // ------------------- Ê®°Âºè2ÈÄªËæëÔºöÂ§öLEDÁã¨Á´ãÈó™ÁÉÅ -------------------
 124:Core/Src/main.c **** static void mode2_process(void)
 125:Core/Src/main.c **** {
 138              		.loc 1 125 1 is_stmt 1 view -0
 139              		.cfi_startproc
 140              		@ args = 0, pretend = 0, frame = 0
 141              		@ frame_needed = 0, uses_anonymous_args = 0
 142              		@ link register save eliminated.
 143 0000 10B4     		push	{r4}
 144              	.LCFI0:
 145              		.cfi_def_cfa_offset 4
 146              		.cfi_offset 4, -4
 126:Core/Src/main.c ****     uint32_t now = g_systickCount;
 147              		.loc 1 126 5 view .LVU32
 148              		.loc 1 126 14 is_stmt 0 view .LVU33
 149 0002 214B     		ldr	r3, .L23
 150 0004 1C68     		ldr	r4, [r3]
 151              	.LVL5:
 127:Core/Src/main.c **** 
 128:Core/Src/main.c ****     // ‰æùÊ¨°Ê£ÄÊü•6‰∏™LED
 129:Core/Src/main.c ****     for (uint8_t i = 0; i < 6; i++)
 152              		.loc 1 129 5 is_stmt 1 view .LVU34
 153              	.LBB2:
 154              		.loc 1 129 10 view .LVU35
 155              		.loc 1 129 18 is_stmt 0 view .LVU36
 156 0006 0023     		movs	r3, #0
 157              		.loc 1 129 5 view .LVU37
 158 0008 13E0     		b	.L9
 159              	.LVL6:
ARM GAS  C:\Users\∑∂\AppData\Local\Temp\cciHP67h.s 			page 6


 160              	.L11:
 161              	.LBB3:
 162              	.LBB4:
 130:Core/Src/main.c ****     {
 131:Core/Src/main.c ****         // Êü•ÁúãËØ•LEDÁöÑfreqIndex(0..2=>ÊúâÊïà, 255Êàñ-1=>Êú™ÊøÄÊ¥ª)
 132:Core/Src/main.c ****         if (g_currentLedIndex[i] <= 2)
 133:Core/Src/main.c ****         {
 134:Core/Src/main.c ****             // ËØ•LEDÂ∑≤Ë¢´ÊøÄÊ¥ª
 135:Core/Src/main.c ****             uint16_t period = mode2_periods[g_currentLedIndex[i]];
 136:Core/Src/main.c ****             // Ëã•Âà∞Êúü => toggle
 137:Core/Src/main.c ****             if ((now - lastToggleTime[i]) >= period)
 138:Core/Src/main.c ****             {
 139:Core/Src/main.c ****                 lastToggleTime[i] = now;
 140:Core/Src/main.c ****                 // ÁøªËΩ¨: ‰ΩøÁî® ODR ÊñπÂºè
 141:Core/Src/main.c ****                 // LED i => PB? => ÈúÄ‰∏éÊÇ®ÂÆûÈôÖÁ°¨‰ª∂ÂØπÂ∫î
 142:Core/Src/main.c ****                 // ‰∏ã‰æãÂÅáËÆæ i=0=>PB14, i=1=>PB7, i=2=>PB0, ...
 143:Core/Src/main.c ****                 // ‰∏∫ÁÆÄÂåñÔºåËøôÈáåÁõ¥Êé•Á§∫‰æãÔºöÈÄöËøá ODR ^=
 144:Core/Src/main.c ****                 // ÊÇ®‰πüÂèØÁî® BSRR ÊñπÂºè
 145:Core/Src/main.c **** 
 146:Core/Src/main.c ****                 uint32_t odrMask = 0;
 147:Core/Src/main.c ****                 switch(i)
 163              		.loc 1 147 17 view .LVU38
 164 000a 0020     		movs	r0, #0
 165              	.LVL7:
 166              		.loc 1 147 17 view .LVU39
 167 000c 0BE0     		b	.L18
 168              	.LVL8:
 169              	.L17:
 148:Core/Src/main.c ****                 {
 149:Core/Src/main.c ****                 case 0: odrMask = GPIO_ODR_OD14; break;
 150:Core/Src/main.c ****                 case 1: odrMask = GPIO_ODR_OD7;  break;
 170              		.loc 1 150 25 is_stmt 1 view .LVU40
 171              		.loc 1 150 50 view .LVU41
 172              		.loc 1 150 33 is_stmt 0 view .LVU42
 173 000e 8020     		movs	r0, #128
 174              	.LVL9:
 175              		.loc 1 150 50 view .LVU43
 176 0010 09E0     		b	.L18
 177              	.LVL10:
 178              	.L16:
 151:Core/Src/main.c ****                 case 2: odrMask = GPIO_ODR_OD0;  break;
 179              		.loc 1 151 25 is_stmt 1 view .LVU44
 180              		.loc 1 151 50 view .LVU45
 181              		.loc 1 151 33 is_stmt 0 view .LVU46
 182 0012 0120     		movs	r0, #1
 183              	.LVL11:
 184              		.loc 1 151 50 view .LVU47
 185 0014 07E0     		b	.L18
 186              	.LVL12:
 187              	.L15:
 152:Core/Src/main.c ****                 case 3: odrMask = GPIO_ODR_OD2;  break;
 188              		.loc 1 152 25 is_stmt 1 view .LVU48
 189              		.loc 1 152 50 view .LVU49
 190              		.loc 1 152 33 is_stmt 0 view .LVU50
 191 0016 0420     		movs	r0, #4
 192              	.LVL13:
 193              		.loc 1 152 50 view .LVU51
ARM GAS  C:\Users\∑∂\AppData\Local\Temp\cciHP67h.s 			page 7


 194 0018 05E0     		b	.L18
 195              	.LVL14:
 196              	.L14:
 153:Core/Src/main.c ****                 case 4: odrMask = GPIO_ODR_OD6;  break;
 197              		.loc 1 153 25 is_stmt 1 view .LVU52
 198              		.loc 1 153 50 view .LVU53
 199              		.loc 1 153 33 is_stmt 0 view .LVU54
 200 001a 4020     		movs	r0, #64
 201              	.LVL15:
 202              		.loc 1 153 50 view .LVU55
 203 001c 03E0     		b	.L18
 204              	.LVL16:
 205              	.L12:
 154:Core/Src/main.c ****                 case 5: odrMask = GPIO_ODR_OD1;  break;
 206              		.loc 1 154 25 is_stmt 1 view .LVU56
 207              		.loc 1 154 50 view .LVU57
 208              		.loc 1 154 33 is_stmt 0 view .LVU58
 209 001e 0220     		movs	r0, #2
 210              	.LVL17:
 211              		.loc 1 154 50 view .LVU59
 212 0020 01E0     		b	.L18
 213              	.LVL18:
 214              	.L20:
 149:Core/Src/main.c ****                 case 1: odrMask = GPIO_ODR_OD7;  break;
 215              		.loc 1 149 33 view .LVU60
 216 0022 4FF48040 		mov	r0, #16384
 217              	.LVL19:
 218              	.L18:
 155:Core/Src/main.c ****                 default: break;
 156:Core/Src/main.c ****                 }
 157:Core/Src/main.c ****                 GPIOB->ODR ^= odrMask; 
 219              		.loc 1 157 17 is_stmt 1 view .LVU61
 220              		.loc 1 157 22 is_stmt 0 view .LVU62
 221 0026 1949     		ldr	r1, .L23+4
 222 0028 4A69     		ldr	r2, [r1, #20]
 223              		.loc 1 157 28 view .LVU63
 224 002a 4240     		eors	r2, r2, r0
 225 002c 4A61     		str	r2, [r1, #20]
 226              	.LVL20:
 227              	.L10:
 228              		.loc 1 157 28 view .LVU64
 229              	.LBE4:
 230              	.LBE3:
 158:Core/Src/main.c ****             }
 159:Core/Src/main.c ****         }
 160:Core/Src/main.c ****         else
 161:Core/Src/main.c ****         {
 162:Core/Src/main.c ****             // Êú™ÊøÄÊ¥ª => ‰øùÊåÅÁÜÑÁÅ≠
 163:Core/Src/main.c ****             // Â¶ÇÊûúÊÇ®ÊÉ≥ËÆ©Êú™ÊøÄÊ¥ªLEDÂßãÁªàÁÜÑÁÅ≠ÔºåÂèØÂú®Ê≠§ÊâãÂä®Ê∏ÖÈõ∂
 164:Core/Src/main.c ****             // ‰ΩÜÂè™Ë¶ÅÂâçÈù¢Ê≤°ËÆæÁΩÆÔºåÂ∫îËØ•Â∑≤ÁªèÊòØÁÅ≠ÁöÑÁä∂ÊÄÅ
 165:Core/Src/main.c ****         }
 231              		.loc 1 165 9 is_stmt 1 view .LVU65
 129:Core/Src/main.c ****     {
 232              		.loc 1 129 33 discriminator 2 view .LVU66
 233 002e 0133     		adds	r3, r3, #1
 234              	.LVL21:
 129:Core/Src/main.c ****     {
ARM GAS  C:\Users\∑∂\AppData\Local\Temp\cciHP67h.s 			page 8


 235              		.loc 1 129 33 is_stmt 0 discriminator 2 view .LVU67
 236 0030 DBB2     		uxtb	r3, r3
 237              	.LVL22:
 238              	.L9:
 129:Core/Src/main.c ****     {
 239              		.loc 1 129 27 is_stmt 1 discriminator 1 view .LVU68
 240 0032 052B     		cmp	r3, #5
 241 0034 24D8     		bhi	.L22
 132:Core/Src/main.c ****         {
 242              		.loc 1 132 9 view .LVU69
 132:Core/Src/main.c ****         {
 243              		.loc 1 132 30 is_stmt 0 view .LVU70
 244 0036 164A     		ldr	r2, .L23+8
 245 0038 D25C     		ldrb	r2, [r2, r3]	@ zero_extendqisi2
 246 003a D2B2     		uxtb	r2, r2
 132:Core/Src/main.c ****         {
 247              		.loc 1 132 12 view .LVU71
 248 003c 022A     		cmp	r2, #2
 249 003e F6D8     		bhi	.L10
 250              	.LBB6:
 135:Core/Src/main.c ****             // Ëã•Âà∞Êúü => toggle
 251              		.loc 1 135 13 is_stmt 1 view .LVU72
 135:Core/Src/main.c ****             // Ëã•Âà∞Êúü => toggle
 252              		.loc 1 135 62 is_stmt 0 view .LVU73
 253 0040 134A     		ldr	r2, .L23+8
 254 0042 D05C     		ldrb	r0, [r2, r3]	@ zero_extendqisi2
 135:Core/Src/main.c ****             // Ëã•Âà∞Êúü => toggle
 255              		.loc 1 135 22 view .LVU74
 256 0044 134A     		ldr	r2, .L23+12
 257 0046 32F81000 		ldrh	r0, [r2, r0, lsl #1]
 258              	.LVL23:
 137:Core/Src/main.c ****             {
 259              		.loc 1 137 13 is_stmt 1 view .LVU75
 137:Core/Src/main.c ****             {
 260              		.loc 1 137 38 is_stmt 0 view .LVU76
 261 004a 134A     		ldr	r2, .L23+16
 262 004c 52F82320 		ldr	r2, [r2, r3, lsl #2]
 137:Core/Src/main.c ****             {
 263              		.loc 1 137 22 view .LVU77
 264 0050 A21A     		subs	r2, r4, r2
 137:Core/Src/main.c ****             {
 265              		.loc 1 137 16 view .LVU78
 266 0052 8242     		cmp	r2, r0
 267 0054 EBD3     		bcc	.L10
 268              	.LBB5:
 139:Core/Src/main.c ****                 // ÁøªËΩ¨: ‰ΩøÁî® ODR ÊñπÂºè
 269              		.loc 1 139 17 is_stmt 1 view .LVU79
 139:Core/Src/main.c ****                 // ÁøªËΩ¨: ‰ΩøÁî® ODR ÊñπÂºè
 270              		.loc 1 139 35 is_stmt 0 view .LVU80
 271 0056 104A     		ldr	r2, .L23+16
 272 0058 42F82340 		str	r4, [r2, r3, lsl #2]
 146:Core/Src/main.c ****                 switch(i)
 273              		.loc 1 146 17 is_stmt 1 view .LVU81
 274              	.LVL24:
 147:Core/Src/main.c ****                 {
 275              		.loc 1 147 17 view .LVU82
 276 005c 052B     		cmp	r3, #5
ARM GAS  C:\Users\∑∂\AppData\Local\Temp\cciHP67h.s 			page 9


 277 005e D4D8     		bhi	.L11
 278 0060 01A2     		adr	r2, .L13
 279 0062 52F823F0 		ldr	pc, [r2, r3, lsl #2]
 280 0066 00BF     		.p2align 2
 281              	.L13:
 282 0068 23000000 		.word	.L20+1
 283 006c 0F000000 		.word	.L17+1
 284 0070 13000000 		.word	.L16+1
 285 0074 17000000 		.word	.L15+1
 286 0078 1B000000 		.word	.L14+1
 287 007c 1F000000 		.word	.L12+1
 288              	.LVL25:
 289              		.p2align 1
 290              	.L22:
 147:Core/Src/main.c ****                 {
 291              		.loc 1 147 17 is_stmt 0 view .LVU83
 292              	.LBE5:
 293              	.LBE6:
 294              	.LBE2:
 166:Core/Src/main.c ****     }
 167:Core/Src/main.c **** 
 168:Core/Src/main.c ****     // ÂÖ∂‰ΩôÈÄªËæëÔºöËã•ÈúÄË¶ÅÂú®Ê®°Âºè2‰∏ã‰πüËΩÆËØ¢ÊüêÁßçÊìç‰ΩúÔºåÂèØÂÜôÂú®Ê≠§
 169:Core/Src/main.c **** }...
 295              		.loc 1 169 1 view .LVU84
 296 0080 5DF8044B 		ldr	r4, [sp], #4
 297              	.LCFI1:
 298              		.cfi_restore 4
 299              		.cfi_def_cfa_offset 0
 300              	.LVL26:
 301              		.loc 1 169 1 view .LVU85
 302 0084 7047     		bx	lr
 303              	.L24:
 304 0086 00BF     		.align	2
 305              	.L23:
 306 0088 00000000 		.word	g_systickCount
 307 008c 00040240 		.word	1073873920
 308 0090 00000000 		.word	g_currentLedIndex
 309 0094 00000000 		.word	mode2_periods
 310 0098 00000000 		.word	lastToggleTime
 311              		.cfi_endproc
 312              	.LFE132:
 314              		.section	.text.main,"ax",%progbits
 315              		.align	1
 316              		.global	main
 317              		.syntax unified
 318              		.thumb
 319              		.thumb_func
 321              	main:
 322              	.LFB130:
  50:Core/Src/main.c **** {
 323              		.loc 1 50 1 is_stmt 1 view -0
 324              		.cfi_startproc
 325              		@ Volatile: function does not return.
 326              		@ args = 0, pretend = 0, frame = 0
 327              		@ frame_needed = 0, uses_anonymous_args = 0
 328 0000 08B5     		push	{r3, lr}
 329              	.LCFI2:
ARM GAS  C:\Users\∑∂\AppData\Local\Temp\cciHP67h.s 			page 10


 330              		.cfi_def_cfa_offset 8
 331              		.cfi_offset 3, -8
 332              		.cfi_offset 14, -4
  52:Core/Src/main.c ****     RCC_Ini();
 333              		.loc 1 52 5 view .LVU87
 334 0002 FFF7FEFF 		bl	RCC_Ini
 335              	.LVL27:
  53:Core/Src/main.c ****     GPIO_Ini();
 336              		.loc 1 53 5 view .LVU88
 337 0006 FFF7FEFF 		bl	GPIO_Ini
 338              	.LVL28:
  54:Core/Src/main.c ****     EXTI_ITR_Ini();
 339              		.loc 1 54 5 view .LVU89
 340 000a FFF7FEFF 		bl	EXTI_ITR_Ini
 341              	.LVL29:
  55:Core/Src/main.c ****     SysTick_Init();
 342              		.loc 1 55 5 view .LVU90
 343 000e FFF7FEFF 		bl	SysTick_Init
 344              	.LVL30:
  58:Core/Src/main.c ****     g_mode1FreqIndex = 0; 
 345              		.loc 1 58 5 view .LVU91
  58:Core/Src/main.c ****     g_mode1FreqIndex = 0; 
 346              		.loc 1 58 22 is_stmt 0 view .LVU92
 347 0012 0023     		movs	r3, #0
 348 0014 094A     		ldr	r2, .L31
 349 0016 1370     		strb	r3, [r2]
  60:Core/Src/main.c ****     currentPairIndex = 0;
 350              		.loc 1 60 5 is_stmt 1 view .LVU93
  60:Core/Src/main.c ****     currentPairIndex = 0;
 351              		.loc 1 60 22 is_stmt 0 view .LVU94
 352 0018 094A     		ldr	r2, .L31+4
 353 001a 1370     		strb	r3, [r2]
  61:Core/Src/main.c ****     lastMode1SwitchTime = g_systickCount;
 354              		.loc 1 61 5 is_stmt 1 view .LVU95
  61:Core/Src/main.c ****     lastMode1SwitchTime = g_systickCount;
 355              		.loc 1 61 25 is_stmt 0 view .LVU96
 356 001c 094B     		ldr	r3, .L31+8
 357 001e 1A68     		ldr	r2, [r3]
 358 0020 094B     		ldr	r3, .L31+12
 359 0022 1A60     		str	r2, [r3]
 360 0024 01E0     		b	.L26
 361              	.L30:
  68:Core/Src/main.c ****             mode1_process();
 362              		.loc 1 68 13 is_stmt 1 view .LVU97
 363 0026 FFF7FEFF 		bl	mode1_process
 364              	.LVL31:
 365              	.L26:
  64:Core/Src/main.c ****     while (1)
 366              		.loc 1 64 5 view .LVU98
  66:Core/Src/main.c ****         if (g_workMode == 1)
 367              		.loc 1 66 9 view .LVU99
  66:Core/Src/main.c ****         if (g_workMode == 1)
 368              		.loc 1 66 24 is_stmt 0 view .LVU100
 369 002a 084B     		ldr	r3, .L31+16
 370 002c 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 371 002e DBB2     		uxtb	r3, r3
  66:Core/Src/main.c ****         if (g_workMode == 1)
ARM GAS  C:\Users\∑∂\AppData\Local\Temp\cciHP67h.s 			page 11


 372              		.loc 1 66 12 view .LVU101
 373 0030 012B     		cmp	r3, #1
 374 0032 F8D0     		beq	.L30
  72:Core/Src/main.c ****             mode2_process();
 375              		.loc 1 72 13 is_stmt 1 view .LVU102
 376 0034 FFF7FEFF 		bl	mode2_process
 377              	.LVL32:
 378 0038 F7E7     		b	.L26
 379              	.L32:
 380 003a 00BF     		.align	2
 381              	.L31:
 382 003c 00000000 		.word	g_mode1FreqIndex
 383 0040 00000000 		.word	currentPairIndex
 384 0044 00000000 		.word	g_systickCount
 385 0048 00000000 		.word	lastMode1SwitchTime
 386 004c 00000000 		.word	g_workMode
 387              		.cfi_endproc
 388              	.LFE130:
 390              		.section	.bss.lastToggleTime,"aw",%nobits
 391              		.align	2
 394              	lastToggleTime:
 395 0000 00000000 		.space	24
 395      00000000 
 395      00000000 
 395      00000000 
 395      00000000 
 396              		.section	.rodata.mode2_periods,"a"
 397              		.align	2
 400              	mode2_periods:
 401 0000 050D     		.short	3333
 402 0002 E204     		.short	1250
 403 0004 CA02     		.short	714
 404              		.section	.bss.lastMode1SwitchTime,"aw",%nobits
 405              		.align	2
 408              	lastMode1SwitchTime:
 409 0000 00000000 		.space	4
 410              		.section	.bss.currentPairIndex,"aw",%nobits
 413              	currentPairIndex:
 414 0000 00       		.space	1
 415              		.section	.rodata.mode1_periods,"a"
 416              		.align	2
 419              	mode1_periods:
 420 0000 D007     		.short	2000
 421 0002 4C02     		.short	588
 422 0004 C701     		.short	455
 423              		.global	g_selectedLed
 424              		.section	.bss.g_selectedLed,"aw",%nobits
 427              	g_selectedLed:
 428 0000 00       		.space	1
 429              		.global	g_currentLedIndex
 430              		.section	.data.g_currentLedIndex,"aw"
 431              		.align	2
 434              	g_currentLedIndex:
 435 0000 FFFFFFFF 		.ascii	"\377\377\377\377\377\377"
 435      FFFF
 436              		.global	g_mode1FreqIndex
 437              		.section	.bss.g_mode1FreqIndex,"aw",%nobits
ARM GAS  C:\Users\∑∂\AppData\Local\Temp\cciHP67h.s 			page 12


 440              	g_mode1FreqIndex:
 441 0000 00       		.space	1
 442              		.global	g_workMode
 443              		.section	.data.g_workMode,"aw"
 446              	g_workMode:
 447 0000 01       		.byte	1
 448              		.global	g_systickCount
 449              		.section	.bss.g_systickCount,"aw",%nobits
 450              		.align	2
 453              	g_systickCount:
 454 0000 00000000 		.space	4
 455              		.text
 456              	.Letext0:
 457              		.file 2 "F:/STM32Tools/SysGCC/arm-none-eabi/include/machine/_default_types.h"
 458              		.file 3 "F:/STM32Tools/SysGCC/arm-none-eabi/include/sys/_stdint.h"
 459              		.file 4 "Core/Inc/../../CMSIS/Devices/stm32f429xx.h"
 460              		.file 5 "Core/Inc/init.h"
ARM GAS  C:\Users\∑∂\AppData\Local\Temp\cciHP67h.s 			page 13


DEFINED SYMBOLS
                            *ABS*:00000000 main.c
C:\Users\∑∂\AppData\Local\Temp\cciHP67h.s:21     .text.mode1_process:00000000 $t
C:\Users\∑∂\AppData\Local\Temp\cciHP67h.s:26     .text.mode1_process:00000000 mode1_process
C:\Users\∑∂\AppData\Local\Temp\cciHP67h.s:119    .text.mode1_process:00000064 $d
C:\Users\∑∂\AppData\Local\Temp\cciHP67h.s:440    .bss.g_mode1FreqIndex:00000000 g_mode1FreqIndex
C:\Users\∑∂\AppData\Local\Temp\cciHP67h.s:419    .rodata.mode1_periods:00000000 mode1_periods
C:\Users\∑∂\AppData\Local\Temp\cciHP67h.s:453    .bss.g_systickCount:00000000 g_systickCount
C:\Users\∑∂\AppData\Local\Temp\cciHP67h.s:408    .bss.lastMode1SwitchTime:00000000 lastMode1SwitchTime
C:\Users\∑∂\AppData\Local\Temp\cciHP67h.s:413    .bss.currentPairIndex:00000000 currentPairIndex
C:\Users\∑∂\AppData\Local\Temp\cciHP67h.s:131    .text.mode2_process:00000000 $t
C:\Users\∑∂\AppData\Local\Temp\cciHP67h.s:136    .text.mode2_process:00000000 mode2_process
C:\Users\∑∂\AppData\Local\Temp\cciHP67h.s:282    .text.mode2_process:00000068 $d
C:\Users\∑∂\AppData\Local\Temp\cciHP67h.s:289    .text.mode2_process:00000080 $t
C:\Users\∑∂\AppData\Local\Temp\cciHP67h.s:306    .text.mode2_process:00000088 $d
C:\Users\∑∂\AppData\Local\Temp\cciHP67h.s:434    .data.g_currentLedIndex:00000000 g_currentLedIndex
C:\Users\∑∂\AppData\Local\Temp\cciHP67h.s:400    .rodata.mode2_periods:00000000 mode2_periods
C:\Users\∑∂\AppData\Local\Temp\cciHP67h.s:394    .bss.lastToggleTime:00000000 lastToggleTime
C:\Users\∑∂\AppData\Local\Temp\cciHP67h.s:315    .text.main:00000000 $t
C:\Users\∑∂\AppData\Local\Temp\cciHP67h.s:321    .text.main:00000000 main
C:\Users\∑∂\AppData\Local\Temp\cciHP67h.s:382    .text.main:0000003c $d
C:\Users\∑∂\AppData\Local\Temp\cciHP67h.s:446    .data.g_workMode:00000000 g_workMode
C:\Users\∑∂\AppData\Local\Temp\cciHP67h.s:391    .bss.lastToggleTime:00000000 $d
C:\Users\∑∂\AppData\Local\Temp\cciHP67h.s:397    .rodata.mode2_periods:00000000 $d
C:\Users\∑∂\AppData\Local\Temp\cciHP67h.s:405    .bss.lastMode1SwitchTime:00000000 $d
C:\Users\∑∂\AppData\Local\Temp\cciHP67h.s:414    .bss.currentPairIndex:00000000 $d
C:\Users\∑∂\AppData\Local\Temp\cciHP67h.s:416    .rodata.mode1_periods:00000000 $d
C:\Users\∑∂\AppData\Local\Temp\cciHP67h.s:427    .bss.g_selectedLed:00000000 g_selectedLed
C:\Users\∑∂\AppData\Local\Temp\cciHP67h.s:428    .bss.g_selectedLed:00000000 $d
C:\Users\∑∂\AppData\Local\Temp\cciHP67h.s:431    .data.g_currentLedIndex:00000000 $d
C:\Users\∑∂\AppData\Local\Temp\cciHP67h.s:441    .bss.g_mode1FreqIndex:00000000 $d
C:\Users\∑∂\AppData\Local\Temp\cciHP67h.s:450    .bss.g_systickCount:00000000 $d

UNDEFINED SYMBOLS
RCC_Ini
GPIO_Ini
EXTI_ITR_Ini
SysTick_Init
