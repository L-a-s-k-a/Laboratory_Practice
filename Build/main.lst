ARM GAS  C:\Users\Sunne\AppData\Local\Temp\ccvYecDu.s 			page 1


   1              		.cpu cortex-m4
   2              		.arch armv7e-m
   3              		.fpu fpv4-sp-d16
   4              		.eabi_attribute 27, 1
   5              		.eabi_attribute 28, 1
   6              		.eabi_attribute 20, 1
   7              		.eabi_attribute 21, 1
   8              		.eabi_attribute 23, 3
   9              		.eabi_attribute 24, 1
  10              		.eabi_attribute 25, 1
  11              		.eabi_attribute 26, 1
  12              		.eabi_attribute 30, 1
  13              		.eabi_attribute 34, 1
  14              		.eabi_attribute 18, 4
  15              		.file	"main.c"
  16              		.text
  17              	.Ltext0:
  18              		.cfi_sections	.debug_frame
  19              		.file 1 "Core/Src/main.c"
  20              		.section	.text.main,"ax",%progbits
  21              		.align	1
  22              		.global	main
  23              		.syntax unified
  24              		.thumb
  25              		.thumb_func
  27              	main:
  28              	.LFB0:
   1:Core/Src/main.c **** #include "init.h"
   2:Core/Src/main.c **** 
   3:Core/Src/main.c **** int main(void) {
  29              		.loc 1 3 16 view -0
  30              		.cfi_startproc
  31              		@ args = 0, pretend = 0, frame = 0
  32              		@ frame_needed = 0, uses_anonymous_args = 0
  33 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
  34              	.LCFI0:
  35              		.cfi_def_cfa_offset 24
  36              		.cfi_offset 4, -24
  37              		.cfi_offset 5, -20
  38              		.cfi_offset 6, -16
  39              		.cfi_offset 7, -12
  40              		.cfi_offset 8, -8
  41              		.cfi_offset 14, -4
   4:Core/Src/main.c ****     uint8_t led_state = 0;        // LED 状态
  42              		.loc 1 4 5 view .LVU1
  43              	.LVL0:
   5:Core/Src/main.c ****     uint8_t button1_press_count = 0; // 按钮1按下次数
  44              		.loc 1 5 5 view .LVU2
   6:Core/Src/main.c ****     uint8_t button1_state = 0;    // 按钮1当前状态
  45              		.loc 1 6 5 view .LVU3
   7:Core/Src/main.c ****     uint8_t button2_state = 0;    // 按钮2当前状态
  46              		.loc 1 7 5 view .LVU4
   8:Core/Src/main.c ****     uint8_t port_mode = 0;        // 按钮1的 LED 独立控制模式
  47              		.loc 1 8 5 view .LVU5
   9:Core/Src/main.c **** 
  10:Core/Src/main.c ****     GPIO_Init();
  48              		.loc 1 10 5 view .LVU6
ARM GAS  C:\Users\Sunne\AppData\Local\Temp\ccvYecDu.s 			page 2


  49 0004 FFF7FEFF 		bl	GPIO_Init
  50              	.LVL1:
   8:Core/Src/main.c ****     uint8_t port_mode = 0;        // 按钮1的 LED 独立控制模式
  51              		.loc 1 8 13 is_stmt 0 view .LVU7
  52 0008 4FF00008 		mov	r8, #0
   7:Core/Src/main.c ****     uint8_t port_mode = 0;        // 按钮1的 LED 独立控制模式
  53              		.loc 1 7 13 view .LVU8
  54 000c 4646     		mov	r6, r8
   6:Core/Src/main.c ****     uint8_t button2_state = 0;    // 按钮2当前状态
  55              		.loc 1 6 13 view .LVU9
  56 000e 4546     		mov	r5, r8
   5:Core/Src/main.c ****     uint8_t button1_state = 0;    // 按钮1当前状态
  57              		.loc 1 5 13 view .LVU10
  58 0010 4746     		mov	r7, r8
   4:Core/Src/main.c ****     uint8_t button1_press_count = 0; // 按钮1按下次数
  59              		.loc 1 4 13 view .LVU11
  60 0012 4446     		mov	r4, r8
  61 0014 51E0     		b	.L12
  62              	.LVL2:
  63              	.L19:
  11:Core/Src/main.c **** 
  12:Core/Src/main.c ****     while (1) {
  13:Core/Src/main.c ****         // 检测按钮1（PC8）
  14:Core/Src/main.c ****         if ((GPIOC_IDR & GPIOC_IDR_PIN8) == 0 && button1_state == 0) {
  15:Core/Src/main.c ****             delay(20000); // 防抖延迟
  64              		.loc 1 15 13 is_stmt 1 view .LVU12
  65 0016 44F62060 		movw	r0, #20000
  66 001a FFF7FEFF 		bl	delay
  67              	.LVL3:
  16:Core/Src/main.c ****             if ((GPIOC_IDR & GPIOC_IDR_PIN8) == 0) {
  68              		.loc 1 16 13 view .LVU13
  69              		.loc 1 16 18 is_stmt 0 view .LVU14
  70 001e 454B     		ldr	r3, .L20
  71 0020 D3F81038 		ldr	r3, [r3, #2064]
  72              		.loc 1 16 16 view .LVU15
  73 0024 13F4807F 		tst	r3, #256
  74 0028 51D1     		bne	.L3
  17:Core/Src/main.c ****                 button1_press_count++;
  75              		.loc 1 17 17 is_stmt 1 view .LVU16
  76              		.loc 1 17 36 is_stmt 0 view .LVU17
  77 002a 0137     		adds	r7, r7, #1
  78              	.LVL4:
  79              		.loc 1 17 36 view .LVU18
  80 002c FFB2     		uxtb	r7, r7
  81              	.LVL5:
  18:Core/Src/main.c ****                 button1_state = 1;
  82              		.loc 1 18 17 is_stmt 1 view .LVU19
  19:Core/Src/main.c **** 
  20:Core/Src/main.c ****                 // 每第 5 次按下切换模式
  21:Core/Src/main.c ****                 if (button1_press_count % 5 == 0) {
  83              		.loc 1 21 17 view .LVU20
  84              		.loc 1 21 45 is_stmt 0 view .LVU21
  85 002e 424A     		ldr	r2, .L20+4
  86 0030 A2FB0732 		umull	r3, r2, r2, r7
  87 0034 22F00303 		bic	r3, r2, #3
  88 0038 03EB9203 		add	r3, r3, r2, lsr #2
  89 003c FB1A     		subs	r3, r7, r3
ARM GAS  C:\Users\Sunne\AppData\Local\Temp\ccvYecDu.s 			page 3


  90              		.loc 1 21 20 view .LVU22
  91 003e 13F0FF0F 		tst	r3, #255
  92 0042 01D1     		bne	.L4
  22:Core/Src/main.c ****                     port_mode ^= 1; // 切换模式
  93              		.loc 1 22 21 is_stmt 1 view .LVU23
  94              		.loc 1 22 31 is_stmt 0 view .LVU24
  95 0044 88F00108 		eor	r8, r8, #1
  96              	.LVL6:
  97              	.L4:
  23:Core/Src/main.c ****                 }
  24:Core/Src/main.c **** 
  25:Core/Src/main.c ****                 // 根据模式控制 LED1 独立开关
  26:Core/Src/main.c ****                 if (port_mode == 1) {
  98              		.loc 1 26 17 is_stmt 1 view .LVU25
  99              		.loc 1 26 20 is_stmt 0 view .LVU26
 100 0048 B8F1010F 		cmp	r8, #1
 101 004c 01D0     		beq	.L18
  18:Core/Src/main.c **** 
 102              		.loc 1 18 31 view .LVU27
 103 004e 0125     		movs	r5, #1
 104 0050 3DE0     		b	.L3
 105              	.L18:
  27:Core/Src/main.c ****                     GPIOC_BSRR ^= GPIOC_BSRR_LED1_ON | GPIOC_BSRR_LED1_OFF; // 切换 LED1 状态
 106              		.loc 1 27 21 is_stmt 1 view .LVU28
 107 0052 384A     		ldr	r2, .L20
 108 0054 D2F81838 		ldr	r3, [r2, #2072]
 109              		.loc 1 27 32 is_stmt 0 view .LVU29
 110 0058 83F00123 		eor	r3, r3, #16777472
 111 005c C2F81838 		str	r3, [r2, #2072]
  18:Core/Src/main.c **** 
 112              		.loc 1 18 31 view .LVU30
 113 0060 4546     		mov	r5, r8
 114 0062 34E0     		b	.L3
 115              	.LVL7:
 116              	.L14:
  28:Core/Src/main.c ****                 }
  29:Core/Src/main.c ****             }
  30:Core/Src/main.c ****         } else if ((GPIOC_IDR & GPIOC_IDR_PIN8) != 0) {
  31:Core/Src/main.c ****             button1_state = 0; // 按钮释放
 117              		.loc 1 31 27 view .LVU31
 118 0064 0025     		movs	r5, #0
 119              	.LVL8:
 120              		.loc 1 31 27 view .LVU32
 121 0066 32E0     		b	.L3
 122              	.LVL9:
 123              	.L11:
  32:Core/Src/main.c ****         }
  33:Core/Src/main.c **** 
  34:Core/Src/main.c ****         // 检测按钮2（PC9）
  35:Core/Src/main.c ****         if ((GPIOC_IDR & GPIOC_IDR_PIN9) == 0 && button2_state == 0) {
  36:Core/Src/main.c ****             delay(20000); // 防抖延迟
  37:Core/Src/main.c ****             if ((GPIOC_IDR & GPIOC_IDR_PIN9) == 0) {
  38:Core/Src/main.c ****                 button2_state = 1;
  39:Core/Src/main.c **** 
  40:Core/Src/main.c ****                 // 顺序控制 LED3 和 LED4
  41:Core/Src/main.c ****                 led_state = (led_state + 1) % 4; // 循环状态
  42:Core/Src/main.c ****                 GPIOC_BSRR |= GPIOC_BSRR_LED1_OFF | GPIOC_BSRR_LED2_OFF |
ARM GAS  C:\Users\Sunne\AppData\Local\Temp\ccvYecDu.s 			page 4


  43:Core/Src/main.c ****                               GPIOC_BSRR_LED3_OFF | GPIOC_BSRR_LED4_OFF; // 熄灭所有灯
  44:Core/Src/main.c **** 
  45:Core/Src/main.c ****                 switch (led_state) {
  46:Core/Src/main.c ****                     case 0:
  47:Core/Src/main.c ****                         GPIOC_BSRR |= GPIOC_BSRR_LED3_ON;
 124              		.loc 1 47 25 is_stmt 1 view .LVU33
 125              		.loc 1 47 36 is_stmt 0 view .LVU34
 126 0068 43F07063 		orr	r3, r3, #251658240
 127 006c 43F48063 		orr	r3, r3, #1024
 128 0070 304A     		ldr	r2, .L20
 129 0072 C2F81838 		str	r3, [r2, #2072]
  48:Core/Src/main.c ****                         break;
 130              		.loc 1 48 25 is_stmt 1 view .LVU35
  38:Core/Src/main.c **** 
 131              		.loc 1 38 31 is_stmt 0 view .LVU36
 132 0076 0126     		movs	r6, #1
 133              		.loc 1 48 25 view .LVU37
 134 0078 1CE0     		b	.L6
 135              	.L10:
  49:Core/Src/main.c ****                     case 1:
  50:Core/Src/main.c ****                         GPIOC_BSRR |= GPIOC_BSRR_LED4_ON;
 136              		.loc 1 50 25 is_stmt 1 view .LVU38
 137              		.loc 1 50 36 is_stmt 0 view .LVU39
 138 007a 43F07063 		orr	r3, r3, #251658240
 139 007e 43F40063 		orr	r3, r3, #2048
 140 0082 2C4A     		ldr	r2, .L20
 141 0084 C2F81838 		str	r3, [r2, #2072]
  51:Core/Src/main.c ****                         break;
 142              		.loc 1 51 25 is_stmt 1 view .LVU40
  38:Core/Src/main.c **** 
 143              		.loc 1 38 31 is_stmt 0 view .LVU41
 144 0088 0126     		movs	r6, #1
 145              		.loc 1 51 25 view .LVU42
 146 008a 13E0     		b	.L6
 147              	.L9:
  52:Core/Src/main.c ****                     case 2:
  53:Core/Src/main.c ****                         GPIOC_BSRR |= GPIOC_BSRR_LED1_ON;
 148              		.loc 1 53 25 is_stmt 1 view .LVU43
 149              		.loc 1 53 36 is_stmt 0 view .LVU44
 150 008c 43F07063 		orr	r3, r3, #251658240
 151 0090 43F48073 		orr	r3, r3, #256
 152 0094 274A     		ldr	r2, .L20
 153 0096 C2F81838 		str	r3, [r2, #2072]
  54:Core/Src/main.c ****                         break;
 154              		.loc 1 54 25 is_stmt 1 view .LVU45
  38:Core/Src/main.c **** 
 155              		.loc 1 38 31 is_stmt 0 view .LVU46
 156 009a 0126     		movs	r6, #1
 157              		.loc 1 54 25 view .LVU47
 158 009c 0AE0     		b	.L6
 159              	.L7:
  55:Core/Src/main.c ****                     case 3:
  56:Core/Src/main.c ****                         GPIOC_BSRR |= GPIOC_BSRR_LED2_ON;
 160              		.loc 1 56 25 is_stmt 1 view .LVU48
 161              		.loc 1 56 36 is_stmt 0 view .LVU49
 162 009e 43F07063 		orr	r3, r3, #251658240
 163 00a2 43F40073 		orr	r3, r3, #512
ARM GAS  C:\Users\Sunne\AppData\Local\Temp\ccvYecDu.s 			page 5


 164 00a6 234A     		ldr	r2, .L20
 165 00a8 C2F81838 		str	r3, [r2, #2072]
  57:Core/Src/main.c ****                         break;
 166              		.loc 1 57 25 is_stmt 1 view .LVU50
  38:Core/Src/main.c **** 
 167              		.loc 1 38 31 is_stmt 0 view .LVU51
 168 00ac 0126     		movs	r6, #1
 169              		.loc 1 57 25 view .LVU52
 170 00ae 01E0     		b	.L6
 171              	.LVL10:
 172              	.L5:
  58:Core/Src/main.c ****                 }
  59:Core/Src/main.c ****             }
  60:Core/Src/main.c ****         } else if ((GPIOC_IDR & GPIOC_IDR_PIN9) != 0) {
 173              		.loc 1 60 16 is_stmt 1 view .LVU53
 174              		.loc 1 60 19 is_stmt 0 view .LVU54
 175 00b0 002B     		cmp	r3, #0
 176 00b2 3DD1     		bne	.L16
 177              	.LVL11:
 178              	.L6:
  61:Core/Src/main.c ****             button2_state = 0; // 按钮释放
  62:Core/Src/main.c ****         }
  63:Core/Src/main.c **** 
  64:Core/Src/main.c ****         delay(200000); // 循环延迟
 179              		.loc 1 64 9 is_stmt 1 view .LVU55
 180 00b4 2148     		ldr	r0, .L20+8
 181 00b6 FFF7FEFF 		bl	delay
 182              	.LVL12:
  12:Core/Src/main.c ****         // 检测按钮1（PC8）
 183              		.loc 1 12 11 view .LVU56
 184              	.L12:
  12:Core/Src/main.c ****         // 检测按钮1（PC8）
 185              		.loc 1 12 5 view .LVU57
  14:Core/Src/main.c ****             delay(20000); // 防抖延迟
 186              		.loc 1 14 9 view .LVU58
  14:Core/Src/main.c ****             delay(20000); // 防抖延迟
 187              		.loc 1 14 14 is_stmt 0 view .LVU59
 188 00ba 1E4B     		ldr	r3, .L20
 189 00bc D3F81038 		ldr	r3, [r3, #2064]
  14:Core/Src/main.c ****             delay(20000); // 防抖延迟
 190              		.loc 1 14 12 view .LVU60
 191 00c0 13F48073 		ands	r3, r3, #256
 192 00c4 01D1     		bne	.L2
  14:Core/Src/main.c ****             delay(20000); // 防抖延迟
 193              		.loc 1 14 47 discriminator 1 view .LVU61
 194 00c6 002D     		cmp	r5, #0
 195 00c8 A5D0     		beq	.L19
 196              	.L2:
  30:Core/Src/main.c ****             button1_state = 0; // 按钮释放
 197              		.loc 1 30 16 is_stmt 1 view .LVU62
  30:Core/Src/main.c ****             button1_state = 0; // 按钮释放
 198              		.loc 1 30 19 is_stmt 0 view .LVU63
 199 00ca 002B     		cmp	r3, #0
 200 00cc CAD1     		bne	.L14
 201              	.LVL13:
 202              	.L3:
  35:Core/Src/main.c ****             delay(20000); // 防抖延迟
ARM GAS  C:\Users\Sunne\AppData\Local\Temp\ccvYecDu.s 			page 6


 203              		.loc 1 35 9 is_stmt 1 view .LVU64
  35:Core/Src/main.c ****             delay(20000); // 防抖延迟
 204              		.loc 1 35 14 is_stmt 0 view .LVU65
 205 00ce 194B     		ldr	r3, .L20
 206 00d0 D3F81038 		ldr	r3, [r3, #2064]
  35:Core/Src/main.c ****             delay(20000); // 防抖延迟
 207              		.loc 1 35 12 view .LVU66
 208 00d4 13F40073 		ands	r3, r3, #512
 209 00d8 EAD1     		bne	.L5
  35:Core/Src/main.c ****             delay(20000); // 防抖延迟
 210              		.loc 1 35 47 discriminator 1 view .LVU67
 211 00da 002E     		cmp	r6, #0
 212 00dc E8D1     		bne	.L5
  36:Core/Src/main.c ****             if ((GPIOC_IDR & GPIOC_IDR_PIN9) == 0) {
 213              		.loc 1 36 13 is_stmt 1 view .LVU68
 214 00de 44F62060 		movw	r0, #20000
 215 00e2 FFF7FEFF 		bl	delay
 216              	.LVL14:
  37:Core/Src/main.c ****                 button2_state = 1;
 217              		.loc 1 37 13 view .LVU69
  37:Core/Src/main.c ****                 button2_state = 1;
 218              		.loc 1 37 18 is_stmt 0 view .LVU70
 219 00e6 134B     		ldr	r3, .L20
 220 00e8 D3F81038 		ldr	r3, [r3, #2064]
  37:Core/Src/main.c ****                 button2_state = 1;
 221              		.loc 1 37 16 view .LVU71
 222 00ec 13F4007F 		tst	r3, #512
 223 00f0 E0D1     		bne	.L6
  38:Core/Src/main.c **** 
 224              		.loc 1 38 17 is_stmt 1 view .LVU72
 225              	.LVL15:
  41:Core/Src/main.c ****                 GPIOC_BSRR |= GPIOC_BSRR_LED1_OFF | GPIOC_BSRR_LED2_OFF |
 226              		.loc 1 41 17 view .LVU73
  41:Core/Src/main.c ****                 GPIOC_BSRR |= GPIOC_BSRR_LED1_OFF | GPIOC_BSRR_LED2_OFF |
 227              		.loc 1 41 40 is_stmt 0 view .LVU74
 228 00f2 0134     		adds	r4, r4, #1
 229              	.LVL16:
  41:Core/Src/main.c ****                 GPIOC_BSRR |= GPIOC_BSRR_LED1_OFF | GPIOC_BSRR_LED2_OFF |
 230              		.loc 1 41 45 view .LVU75
 231 00f4 6342     		rsbs	r3, r4, #0
 232 00f6 04F00304 		and	r4, r4, #3
 233 00fa 03F00303 		and	r3, r3, #3
 234 00fe 58BF     		it	pl
 235 0100 5C42     		rsbpl	r4, r3, #0
  41:Core/Src/main.c ****                 GPIOC_BSRR |= GPIOC_BSRR_LED1_OFF | GPIOC_BSRR_LED2_OFF |
 236              		.loc 1 41 27 view .LVU76
 237 0102 E4B2     		uxtb	r4, r4
 238              	.LVL17:
  42:Core/Src/main.c ****                               GPIOC_BSRR_LED3_OFF | GPIOC_BSRR_LED4_OFF; // 熄灭所有灯
 239              		.loc 1 42 17 is_stmt 1 view .LVU77
 240 0104 0B4A     		ldr	r2, .L20
 241 0106 D2F81838 		ldr	r3, [r2, #2072]
  42:Core/Src/main.c ****                               GPIOC_BSRR_LED3_OFF | GPIOC_BSRR_LED4_OFF; // 熄灭所有灯
 242              		.loc 1 42 28 is_stmt 0 view .LVU78
 243 010a 43F07061 		orr	r1, r3, #251658240
 244 010e C2F81818 		str	r1, [r2, #2072]
  45:Core/Src/main.c ****                     case 0:
ARM GAS  C:\Users\Sunne\AppData\Local\Temp\ccvYecDu.s 			page 7


 245              		.loc 1 45 17 is_stmt 1 view .LVU79
 246 0112 032C     		cmp	r4, #3
 247 0114 0AD8     		bhi	.L15
 248 0116 01A2     		adr	r2, .L8
 249 0118 52F824F0 		ldr	pc, [r2, r4, lsl #2]
 250              		.p2align 2
 251              	.L8:
 252 011c 69000000 		.word	.L11+1
 253 0120 7B000000 		.word	.L10+1
 254 0124 8D000000 		.word	.L9+1
 255 0128 9F000000 		.word	.L7+1
 256              		.p2align 1
 257              	.L15:
 258 012c 0126     		movs	r6, #1
 259 012e C1E7     		b	.L6
 260              	.LVL18:
 261              	.L16:
  61:Core/Src/main.c ****         }
 262              		.loc 1 61 27 is_stmt 0 view .LVU80
 263 0130 0026     		movs	r6, #0
 264              	.LVL19:
  61:Core/Src/main.c ****         }
 265              		.loc 1 61 27 view .LVU81
 266 0132 BFE7     		b	.L6
 267              	.L21:
 268              		.align	2
 269              	.L20:
 270 0134 00000240 		.word	1073872896
 271 0138 CDCCCCCC 		.word	-858993459
 272 013c 400D0300 		.word	200000
 273              		.cfi_endproc
 274              	.LFE0:
 276              		.text
 277              	.Letext0:
 278              		.file 2 "D:/huanjingbianliang/xpack-arm-none-eabi-gcc-13.2.1-1.1-win32-x64/xpack-arm-none-eabi-gcc
 279              		.file 3 "D:/huanjingbianliang/xpack-arm-none-eabi-gcc-13.2.1-1.1-win32-x64/xpack-arm-none-eabi-gcc
 280              		.file 4 "Core/Inc/init.h"
ARM GAS  C:\Users\Sunne\AppData\Local\Temp\ccvYecDu.s 			page 8


DEFINED SYMBOLS
                            *ABS*:00000000 main.c
C:\Users\Sunne\AppData\Local\Temp\ccvYecDu.s:21     .text.main:00000000 $t
C:\Users\Sunne\AppData\Local\Temp\ccvYecDu.s:27     .text.main:00000000 main
C:\Users\Sunne\AppData\Local\Temp\ccvYecDu.s:252    .text.main:0000011c $d
C:\Users\Sunne\AppData\Local\Temp\ccvYecDu.s:256    .text.main:0000012c $t
C:\Users\Sunne\AppData\Local\Temp\ccvYecDu.s:270    .text.main:00000134 $d

UNDEFINED SYMBOLS
GPIO_Init
delay
